HOST: http://loki3services-dev.apiary.io/loki-services

--- Loki Services (dev) ---

---
# This documentation is for the internal API, pre-release (dev version)
See also:

* [Internal API, dev (pre-release)](http://docs.lokiservicesdev.apiary.io/) (this document)
* [Internal API, branch (pre-release)](http://docs.lokiservicesbranch.apiary.io/)
* [Internal API, GA release](http://docs.loki3services.apiary.io/)
* [Public API, dev (pre-release)](http://docs.lokidev.apiary.io/)
* [Public API, branch (pre-release)](http://docs.lokiserverbranch.apiary.io/)
* [Public API, GA release](http://docs.lokiserver.apiary.io/)

[INTERNAL] Documenting the internal APIs (service contracts) between services in the Loki3 architecture.

*NOT UP TO DATE; still working on this*

**Note: all references to <code>loki3.apiary.io</code> are for example purposes only. In a deployed Loki Server
these will be references to the Loki REST API host.**

**TBD: add HAL notes. Note (at least initially) in the response bodies, the _links.self.href matches the URI submitted by the client, including any query parameters**

## URI Templates
Refer to https://tools.ietf.org/html/rfc6570 for details on URI Templates. Not that Loki REST
uses reserved characters (i.e. ":") in some URI Template variables, thus the request templates
use the "{+id}" format - see additional detail at https://tools.ietf.org/html/rfc6570#section-3.2.3.
---


--
Sonus PSX Number Translations
##Collection

Supported network elements:

* Sonus PSX

The Loki Server must have at least one Network Element configured with support for Number Translations (e.g. Sonus PSX).

See the Loki Server documentation appropriate to the configured Network Element for mappings to 3rd-party API fields and
references to 3rd-party documentation.

Keys:

* nationalId
* countryId
* attributes
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the Loki REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the Loki REST JSON responses.
--


Create a new number translation on a Sonus PSX.

Service: Sonus Utility Service (uses the Sonus Insight API)

In the initial implementation, any Sonus errors will simply be passed back to the client in a 500 Internal Server Error.

URI Template Variables:

* {+ne_id} - The ID of the target network element (i.e. the Sonus PSX instance), as defined in the system configuration.
POST /network-elements/sonus-psx/{+ne_id}/number-translations
> Content-Type: application/json
{
    "nationalId" : "8665554321",
    "countryId" : "1",
    "translatedNationalId" : "5553043000",
    "translatedCountryId" : "1",
    "attributes" : 0,
    "callProcessingElement1Id" : "978",
    "callProcessingElement2Id" : null,
    "callProcessingElement3Id" : null,
    "callProcessingElement4Id" : null,
    "callProcessingElementType" : 5,
    "servicesProvisioned" : 0,
    "phoneType" : 1,
    "suspendedFlag" : 0,
    "directTranslationFlag" : 0,
    "translationLabelId" : null,
    "translatedCarrierId" : null,
    "translatedCalltype" : 0,
    "translatedNpi" : 0,
    "translatedNoa" : 13,
    "useTranslationProfile" : 0,
    "translationProfileId" : null
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/number-translations/3-1-8665554321-0-978----5
+++++
< 500
< Transaction-Id: 1380080943120


Check if a number translation exists.
HEAD /network-elements/sonus-psx/{+ne_id}/number-translations/{+id}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Query number translations.

Query number translations. Responses will include (at a minimum) they fields comprising the unique key for the resource.
Querying on an extension field for a network element that is not configured will generate an error.

In the initial release, the only supported mode is where all 7 keys are fully specified in the search request. Thus, intially, the response
will contain at most one match.

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]

## URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>nationalId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>countryId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>attributes</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement1Id</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement2Id</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement3Id</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement4Id</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElementType</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>
GET /network-elements/sonus-psx/{+ne_id}/number-translations{?nationalId,countryId,attributes,callProcessingElement1Id,callProcessingElement2Id,callProcessingElement3Id,callProcessingElement4Id,callProcessingElementType}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/number-translations?nationalId=8665554321&countryId=1&attributes=0&callProcessingElement1Id=978&callProcessingElement2Id=&callProcessingElement3Id=&callProcessingElement4Id=&callProcessingElementType=5"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        },
    ],
    "_embedded" : {
        "ls:number-translations" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/number-translations/3-1-8665554321-0-978----5"
                    }
                },
                "id" : "3-1-8665554321-0-978----5",
                "ne_id" : "1",
                "nationalId" : "8665554321",
                "countryId" : "1",
                "translatedNationalId" : "5553043000",
                "translatedCountryId" : "1",
                "attributes" : 0,
                "callProcessingElement1Id" : "978",
                "callProcessingElement2Id" : null,
                "callProcessingElement3Id" : null,
                "callProcessingElement4Id" : null,
                "callProcessingElementType" : 5,
                "servicesProvisioned" : 0,
                "phoneType" : 1,
                "suspendedFlag" : 0,
                "directTranslationFlag" : 0,
                "translationLabelId" : null,
                "translatedCarrierId" : null,
                "translatedCalltype" : 0,
                "translatedNpi" : 0,
                "translatedNoa" : 13,
                "useTranslationProfile" : 0,
                "translationProfileId" : null
            }
        ]
    }
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Failed to 'Retrieve' entity.",
    "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" [^] xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" [^] xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException</faultcode>\n <faultstring></faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/intf\"/>\n [^] <ns2:exceptionName xmlns:ns2=\"http://xml.apache.org/axis/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException</ns2:exceptionName>\n [^] </detail>\n </soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xmlns:ns3=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND</errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.</message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)</rootCause>\n </multiRef>\n </soapenv:Body>\n</soapenv:Envelope>"
}


Update a number translation. All fields are optional.
PUT /network-elements/sonus-psx/{+ne_id}/number-translations/{+id}
> Content-Type: application/json
{
    "translatedNationalId" : "5553043000",
    "translatedCountryId" : "1",
    "servicesProvisioned" : 0,
    "phoneType" : 1,
    "suspendedFlag" : 0,
    "directTranslationFlag" : 0,
    "translationLabelId" : null,
    "translatedCarrierId" : null,
    "translatedCalltype" : 0,
    "translatedNpi" : 0,
    "translatedNoa" : 13,
    "useTranslationProfile" : 0,
    "translationProfileId" : null
}
< 204
< Transaction-Id: 1380080943120


Delete a number translation.
DELETE /network-elements/sonus-psx/{+ne_id}/number-translations/{+id}
< 204
< Transaction-Id: 1380080943120


--
Sonus PSX Subscribers
##Collection

Network Element: Sonus PSX

Keys:

* subscriberId
* countryId
* owningCarrierId

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the Loki REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the Loki REST JSON responses.
--


Create a new Subscriber on a Sonus PSX.

Service: Sonus Utility Service (uses the Sonus Insight API)

See general Loki Server documentation for details on the conditions under which each response may occur (200 OK introduced in LokiServer.FD_SonusEntity_SubscriberDestinationRoute_Create).
In the initial implementation, any Sonus errors will simply be passed back to the client in a 500 Internal Server Error.

URI Template Variables:

* {+ne_id} - The ID of the target network element (i.e. the Sonus PSX instance), as defined in the system configuration.
POST /network-elements/sonus-psx/{+ne_id}/subscribers
> Content-Type: application/json
{
    "subscriberId" : "2005553001",
    "countryId" : "1",
    "owningCarrierId" : "16",
    "businessGroupId" : null,
    "interLataCarrierId" : "5000",
    "intraLataCarrierId" : "5000",
    "intlCarrierId" : "5000",
    "assignedCarrierId" : null,
    "presentationFlag" : 0,
    "prfdPacketServiceProfileId" : null,
    "optionType" : 0,
    "testSubscriber" : 0,
    "billingPlanId" : "EXAMPLE_PLAN",
    "localCarrierId" : "5000",
    "authcodeScriptId" : "EXAMPLE_SCRIPT",
    "elementAttributes" : 0,
    "classOfServiceId" : "EXAMPLE_COS",
    "pseudoCarrierId" : null,
    "infoDigitId" : null,
    "scpBusinessServiceGroup" : 0,
    "authcodeGroupId" : null,
    "pinDigits" : null,
    "svcList1" : 0,
    "svcList2" : 0,
    "exceptionProfileId" : "EXAMPLE_PROFILE",
    "isDestination" : 1,
    "defaultCpc" : null,
    "homeMobileNetwork" : 0,
    "origEntityRoutingProfileId" : "EXAMPLE_RTGPROFILE",
    "callingArea" : "555_EXAMPLE",
    "businessUnitId" : null,
    "deviceProfileId" : null,
    "memberStatus" : -1
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/subscribers/1-2005553001-1-16
+++++
< 200
< Transaction-Id: 1380080943120
+++++
< 500
< Transaction-Id: 1380080943120


Check if a subscriber exists.
HEAD /network-elements/sonus-psx/{+ne_id}/subscribers/{+id}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Query Subscribers

Service: Sonus Utility Service (uses the Sonus Insight API)

Query Subscribers. Responses will include (at a minimum) they fields comprising the unique key for the resource.
Querying on an extension field for a network element that is not configured will generate an error.

In the initial release, the only supported mode is where all keys are fully specified in the search request. Thus, intially, the response
will contain at most one match.

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>subscriberId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>countryId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>owningCarrierId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>
GET /network-elements/sonus-psx/{+ne_id}/subscribers{?subscriberId,countryId,owningCarrierId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/subscribers?subscriberId=2005553001&countryId=1&owningCarrierId=16"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        },
    ],
    "_embedded" : {
        "ls:subscribers" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/subscribers/1-2005553001-1-16"
                    }
                },
                "id" : "1-2005553001-1-16",
                "ne_id" : "1",
                "subscriberId" : "2005553001",
                "countryId" : "1",
                "owningCarrierId" : "16",
                "businessGroupId" : null,
                "interLataCarrierId" : "5000",
                "intraLataCarrierId" : "5000",
                "intlCarrierId" : "5000",
                "assignedCarrierId" : null,
                "presentationFlag" : 0,
                "prfdPacketServiceProfileId" : null,
                "optionType" : 0,
                "testSubscriber" : 0,
                "billingPlanId" : "EXAMPLE_PLAN",
                "localCarrierId" : "5000",
                "authcodeScriptId" : "EXAMPLE_SCRIPT",
                "elementAttributes" : 0,
                "classOfServiceId" : "EXAMPLE_COS",
                "pseudoCarrierId" : null,
                "infoDigitId" : null,
                "scpBusinessServiceGroup" : 0,
                "authcodeGroupId" : null,
                "pinDigits" : null,
                "svcList1" : 0,
                "svcList2" : 0,
                "exceptionProfileId" : "EXAMPLE_PROFILE",
                "isDestination" : 1,
                "defaultCpc" : null,
                "homeMobileNetwork" : 0,
                "origEntityRoutingProfileId" : "EXAMPLE_RTGPROFILE",
                "callingArea" : "555_EXAMPLE",
                "businessUnitId" : null,
                "deviceProfileId" : null,
                "memberStatus" : -1
            }
        ]
    }
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Failed to 'Retrieve' entity.",
    "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" [^] xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" [^] xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException</faultcode>\n <faultstring></faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/intf\"/>\n [^] <ns2:exceptionName xmlns:ns2=\"http://xml.apache.org/axis/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException</ns2:exceptionName>\n [^] </detail>\n </soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xmlns:ns3=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND</errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.</message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)</rootCause>\n </multiRef>\n </soapenv:Body>\n</soapenv:Envelope>"
}
+++++
< 500
< Transaction-Id: 1380080943120


Update a subscriber. All fields are optional.
PUT /network-elements/sonus-psx/{+ne_id}/subscribers/{+id}
> Content-Type: application/json
{
    "businessGroupId" : null,
    "interLataCarrierId" : "5000",
    "intraLataCarrierId" : "5000",
    "intlCarrierId" : "5000",
    "assignedCarrierId" : null,
    "presentationFlag" : 0,
    "prfdPacketServiceProfileId" : null,
    "optionType" : 0,
    "testSubscriber" : 0,
    "billingPlanId" : "EXAMPLE_PLAN",
    "localCarrierId" : "5000",
    "authcodeScriptId" : "EXAMPLE_SCRIPT",
    "elementAttributes" : 0,
    "classOfServiceId" : "EXAMPLE_COS",
    "pseudoCarrierId" : null,
    "infoDigitId" : null,
    "scpBusinessServiceGroup" : 0,
    "authcodeGroupId" : null,
    "pinDigits" : null,
    "svcList1" : 0,
    "svcList2" : 0,
    "exceptionProfileId" : "EXAMPLE_PROFILE",
    "isDestination" : 1,
    "defaultCpc" : null,
    "homeMobileNetwork" : 0,
    "origEntityRoutingProfileId" : "EXAMPLE_RTGPROFILE",
    "callingArea" : "555_EXAMPLE",
    "businessUnitId" : null,
    "deviceProfileId" : null,
    "memberStatus" : -1
}
< 204
< Transaction-Id: 1380080943120


Delete a subscriber.
DELETE /network-elements/sonus-psx/{+ne_id}/subscribers/{+id}
< 204
< Transaction-Id: 1380080943120


--
Sonus PSX Destinations
##Collection

Network Element: Sonus PSX

Keys:

* nationalId
* countryId

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the Loki REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the Loki REST JSON responses.
--


Create a new Destination on a Sonus PSX.

Service: Sonus Utility Service (uses the Sonus Insight API)

In the initial implementation, any Sonus errors will simply be passed back to the client in a 500 Internal Server Error.

URI Template Variables:

* {+ne_id} - The ID of the target network element (i.e. the Sonus PSX instance), as defined in the system configuration.
POST /network-elements/sonus-psx/{+ne_id}/destinations
> Content-Type: application/json
{
    "nationalId" : "2005553001",
    "countryId" : "1",
    "destSvcScriptId" : null,
    "customScriptId" : null,
    "elementAttributes" : 0,
    "prfdPacketServiceProfileId" : null,
    "routingLabelId" : "EXAMPLE_RTNG_LBL",
    "isSubscriber" : 1,
    "portedType" : 0,
    "lnpTransitionFlag" : 0,
    "homeGateway" : "EXAMPLE_GW",
    "exceptionProfileId" : null,
    "businessGroupId" : null,
    "businessUnitId" : null
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/destinations/1-2005553001-1
+++++
< 500
< Transaction-Id: 1380080943120


Check if a destination exists.
HEAD /network-elements/sonus-psx/{+ne_id}/destinations/{+id}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Query Destinations

Service: Sonus Utility Service (uses the Sonus Insight API)

Query Destinations. Responses will include (at a minimum) they fields comprising the unique key for the resource.
Querying on an extension field for a network element that is not configured will generate an error.

In the initial release, the only supported mode is where all keys are fully specified in the search request. Thus, intially, the response
will contain at most one match.

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>nationalId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>countryId</td>
            <td style="text-align: center">yes</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>
GET /network-elements/sonus-psx/{+ne_id}/destinations{?nationalId,countryId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/destinations?nationalId=2005553001&countryId=1"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        },
    ],
    "_embedded" : {
        "ls:destinations" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/destinations/1-2005553001-1"
                    }
                },
                "ne_id" : "1",
                "id" : "1-2005553001-1",
                "nationalId" : "2005553001",
                "countryId" : "1",
                "destSvcScriptId" : null,
                "customScriptId" : null,
                "elementAttributes" : 0,
                "prfdPacketServiceProfileId" : null,
                "routingLabelId" : "EXAMPLE_RTNG_LBL",
                "isSubscriber" : 1,
                "portedType" : 0,
                "lnpTransitionFlag" : 0,
                "homeGateway" : "EXAMPLE_GW",
                "exceptionProfileId" : null,
                "businessGroupId" : null,
                "businessUnitId" : null
            }
        ]
    }
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Failed to 'Retrieve' entity.",
    "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" [^] xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" [^] xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException</faultcode>\n <faultstring></faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/intf\"/>\n [^] <ns2:exceptionName xmlns:ns2=\"http://xml.apache.org/axis/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException</ns2:exceptionName>\n [^] </detail>\n </soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xmlns:ns3=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND</errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.</message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)</rootCause>\n </multiRef>\n </soapenv:Body>\n</soapenv:Envelope>"
}
+++++
< 500
< Transaction-Id: 1380080943120


Update a destination. All fields are optional.
PUT /network-elements/sonus-psx/{+ne_id}/destinations/{+id}
> Content-Type: application/json
{
    "destSvcScriptId" : null,
    "customScriptId" : null,
    "elementAttributes" : 0,
    "prfdPacketServiceProfileId" : null,
    "routingLabelId" : "EXAMPLE_RTNG_LBL",
    "isSubscriber" : 1,
    "portedType" : 0,
    "lnpTransitionFlag" : 0,
    "homeGateway" : "EXAMPLE_GW",
    "exceptionProfileId" : null,
    "businessGroupId" : null,
    "businessUnitId" : null
}
< 204
< Transaction-Id: 1380080943120


Delete a destination.
DELETE /network-elements/sonus-psx/{+ne_id}/destinations/{+id}
< 204
< Transaction-Id: 1380080943120


--
Sonus PSX Routes
##Collection

Network Element: Sonus PSX

Keys:

* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType
* routingType
* destinationNationalId
* destinationCountryId
* partitionId
* calltype
* transmissionMedium
* userCallType
* digitType
* timeRangeProfileId
* callParamFilterProfileId
* domainName

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the Loki REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the Loki REST JSON responses.
--


Create a new Route on a Sonus PSX.

Service: Sonus Utility Service (uses the Sonus Insight API)

In the initial implementation, any Sonus errors will simply be passed back to the client in a 500 Internal Server Error.

URI Template Variables:

* {+ne_id} - The ID of the target network element (i.e. the Sonus PSX instance), as defined in the system configuration.
POST /network-elements/sonus-psx/{+ne_id}/routes
> Content-Type: application/json
{
	"callProcessingElement1Id" : null,
	"callProcessingElement2Id" : null,
	"callProcessingElement3Id" : null,
	"callProcessingElement4Id" : null,
	"callProcessingElementType" : 0,
	"routingType" : 3,
	"destinationNationalId" : "2005553001",
	"destinationCountryId" : "1",
	"partitionId" : "EXAMPLE_PARTITION",
	"calltype" : 0,
	"transmissionMedium" : 0,
	"userCallType" : 0,
	"digitType" : 2147483647,
	"timeRangeProfileId" : "ALL",
	"callParamFilterProfileId" : null,
	"domainName" : null,
	"routingLabelId" : "EXAMPLE_RTNG_LBL"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/routes/1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--
+++++
< 500
< Transaction-Id: 1380080943120


Check if a route exists.
HEAD /network-elements/sonus-psx/{+ne_id}/routes/{+id}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Query Routes

Service: Sonus Utility Service (uses the Sonus Insight API)

Query Routes. This request is used only to retrieve a single route resource given all elements of the key.
Responses will include (at a minimum) they fields comprising the unique key for the resource.
See also "Query RouteQueries" for a more flexible method of querying routes.
In this request:

* All of the URI query parameters (listed below) must be included in the request (even if some have no value).
* Each parameter is expected to be complete (the match is an "equals" match, with
no support for wildcards or partial values).
* A "null" value can be searched for by explicitly including the parameter with no value,
e.g. "...&callProcessingElement1Id=".
* If no match is found, the response will be 404 Not Found

The URI query parameters are as follows:

* destinationNationalId
* destinationCountryId
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType
* routingType
* partitionId
* calltype
* transmissionMedium
* userCallType
* digitType
* timeRangeProfileId
* callParamFilterProfileId
* domainName

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]
GET /network-elements/sonus-psx/{+ne_id}/routes{?destinationNationalId,destinationCountryId,callProcessingElement1Id,callProcessingElement2Id,callProcessingElement3Id,callProcessingElement4Id,callProcessingElementType,routingType,partitionId,calltype,transmissionMedium,userCallType,digitType,timeRangeProfileId,callParamFilterProfileId,domainName}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/routes?callProcessingElement1Id=&callProcessingElement2Id=&callProcessingElement3Id=&callProcessingElement4Id=&callProcessingElementType=0&routingType=3&destinationNationalId=2005553001&destinationCountryId=1&partitionId=EXAMPLE_PARTITION&calltype=0&transmissionMedium=0&userCallType=0&digitType=2147483647&timeRangeProfileId=ALL&callParamFilterProfileId=&domainName="
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        },
    ],
    "_embedded" : {
        "ls:routes" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/1/routes/1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--"
                    }
                },
                "id" : "1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--",
                "ne_id" : "1",
            	"callProcessingElement1Id" : null,
	            "callProcessingElement2Id" : null,
	            "callProcessingElement3Id" : null,
	            "callProcessingElement4Id" : null,
	            "callProcessingElementType" : 0,
	            "routingType" : 3,
	            "destinationNationalId" : "2005553001",
	            "destinationCountryId" : "1",
	            "partitionId" : "EXAMPLE_PARTITION",
	            "calltype" : 0,
	            "transmissionMedium" : 0,
	            "userCallType" : 0,
	            "digitType" : 2147483647,
	            "timeRangeProfileId" : "ALL",
	            "callParamFilterProfileId" : null,
	            "domainName" : null
	            "routingLabelId" : "EXAMPLE_RTNG_LBL"
            }
        ]
    }
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Failed to 'Retrieve' entity.",
    "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" [^] xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" [^] xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException</faultcode>\n <faultstring></faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/intf\"/>\n [^] <ns2:exceptionName xmlns:ns2=\"http://xml.apache.org/axis/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException</ns2:exceptionName>\n [^] </detail>\n </soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" [^] xmlns:ns3=\"http://www.sonusnet.com/ems/emsapi/psx/r07_03_06/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND</errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.</message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)</rootCause>\n </multiRef>\n </soapenv:Body>\n</soapenv:Envelope>"
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Internal Error",
    "detail": "Query returned no records"
}
+++++
< 500
< Transaction-Id: 1380080943120


Update a route. All fields are optional.
PUT /network-elements/sonus-psx/{+ne_id}/routes/{+id}
> Content-Type: application/json
{
    "routingLabelId" : "EXAMPLE_RTNG_LBL"
}
< 204
< Transaction-Id: 1380080943120


Delete a route.
DELETE /network-elements/sonus-psx/{+ne_id}/routes/{+id}
< 204
< Transaction-Id: 1380080943120


--
Sonus PSX Route-Queries
##Collection

Network Element: Sonus PSX

Keys:

* (none)

This is a meta-entity on Sonus, which provides enhanced search capabilities for Route entities.

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the Loki REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the Loki REST JSON responses.
--

Query RouteQueries

Service: Sonus Utility Service (uses the Sonus Insight API)

Provides an alternative way to query Sonus Route entites, via the Sonus RouteQuery meta-entity. See also "Query Routes".

This request is used all matching routes for various search criteria. Responses will include any mathing routes. In this request:

* On or more of the URI query parameters (listed below) must be included, with a value.
* Each parameter is expected to be complete (the match is an "equals" match, with
no support for wildcards or partial values).
* A "null" value can be searched for by explicitly including the parameter with no value,
e.g. "...&callProcessingElement1Id=".
* If no match is found, the response will be 404 Not Found
* When one or more matches or found, they will be included in the embedded array _embedded."ls:routes"[].

The URI query parameters are as follows:

* destinationNationalId
* destinationCountryId
* partitionId
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* routingLabelId
* callParamFilterProfileId
* domainName

**NOTE: As of 1.5, there is a defect in _embedded, making it inconsistent with the documentation below:
it uses ls:route-queries and embeds the resources as route-queries, instead of as routes.**

**Missing: detail of 404 response body**

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]
GET /network-elements/sonus-psx/{+ne_id}/route-queries{?destinationNationalId,destinationCountryId,partitionId,callProcessingElement1Id,callProcessingElement2Id,callProcessingElement3Id,callProcessingElement4Id,routingLabelId,callParamFilterProfileId,domainName}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/44/route-queries?routingLabelId=EXAMPLE_LBL"
        }
    },
    "curies": [
        {
            "name": "ls",
            "href": "http://localhost:8340/loki/rels/{rel}",
            "templated": true
        }
    ],
    "_embedded": {
        "ls:routes": [
            {
                "_links": {
                    "self": {
                        "href": "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/44/routes/44-----0-3-4152141208-1-EXAMPLE_PARTITION-50176-8191-ALL--"
                    }
                },
                "id": "44-----0-3-4152141208-1-EXAMPLE_PARTITION-50176-8191-ALL--",
                "ne_id" : "44",
                "callProcessingElement1Id": null,
                "callProcessingElement2Id": null,
                "callProcessingElement3Id": null,
                "callProcessingElement4Id": null,
                "callProcessingElementType": 0,
                "routingType": 3,
                "destinationNationalId": "4152141208",
                "destinationCountryId": "1",
                "partitionId": "EXAMPLE_PARTITION",
                "calltype": 50176,
                "routingLabelId": "EXAMPLE_LBL",
                "transmissionMedium": 8191,
                "userCallType": 0,
                "digitType": 2147483647,
                "timeRangeProfileId": "ALL",
                "callParamFilterProfileId": null,
                "domainName": null
            },
            {
                "_links": {
                    "self": {
                        "href": "http://loki3services.apiary.io/loki-services/network-elements/sonus-psx/44/routes/44-----0-3-4165551212-1-EXAMPLE_PARTITION-50176-511-ALL--"
                    }
                },
                "id": "44-----0-3-4165551212-1-EXAMPLE_PARTITION-50176-511-ALL--",
                "ne_id" : "44",
                "callProcessingElement1Id": null,
                "callProcessingElement2Id": null,
                "callProcessingElement3Id": null,
                "callProcessingElement4Id": null,
                "callProcessingElementType": 0,
                "routingType": 3,
                "destinationNationalId": "4165551212",
                "destinationCountryId": "1",
                "partitionId": "EXAMPLE_PARTITION",
                "calltype": 50176,
                "routingLabelId": "EXAMPLE_LBL",
                "transmissionMedium": 511,
                "userCallType": 0,
                "digitType": 2147483647,
                "timeRangeProfileId": "ALL",
                "callParamFilterProfileId": null,
                "domainName": null
            }
        ]
    }
}
+++++
< 404
< Transaction-Id: 1380080943120
{
    "errorCode": "ERR_REC_NOT_FOUND",
    "summary": "Internal Error",
    "detail": "Query returned no records"
}
+++++
< 500
< Transaction-Id: 1380080943120


--
Process Engine

**details pending**

A "process" consists of a series of "steps", each of which implements provisioning business logic. They also perform data mappings into the 3rd-party data models.

The POST /loki-services/process-engine/process controller triggers a process. Each step in a
process is implemented in the appropriate Entity Services, which generally uses the Utility
Services to communicate with network elements.

General note: any of these requests may return 424 Method Failure in the event of an error response from the network element,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Trigger a process in the Process Engine - createVoipUser example. Triggers the createVoipUser process,
with voip-user data as the inputs. The response includes embedded representations of any resources created
as a result of the process (e.g. phone numbers assigned in BroadWorks, user created in BroadWorks, etc). These
include any properties of those resources that may need to be reported back to the client (e.g. auto-generated
password, name, etc).
POST /process-engine/process
> Content-Type: application/json
{
    "customerId" : "exampleCom",
    "siteId" : "exampleComNorth",
    "process" : "createVoipUser",
    "userId" : "2005553001@example.com",
    "phoneNumber" : "+1-2005553001",
    "tnRoutine" : "auto",
    "CLID" : "+1-2005553001",
    "extension" : "3001",
    "lastName" : "Smith",
    "firstName" : "John",
    "callingLineIdLastName" : "Smith",
    "callingLineIdFirstName" : "John",
    "email" : "jsmith@example.com",
    "timeZone" : "America/New_York",
    "language" : "English",
    "sharedDeviceName" : "exampleComIad001",
    "trunkGroupName" : null,
    "servicePacks" : {
        "base" : "Standard",
        "add-on" : [
            "Executive"
        ]
    },
    "role" : "Executive",
    "services" : {
        "Authentication" : {
            "username" : "2005553001@sip.example.com",
            "password" : "230A4u$#%f"
        },
        "Charge Number" : {
            "phoneNumber" : "+1-2005554321",
            "tnRoutine" : "",
            "useChargeNumberForEnhancedTranslations" : false,
            "sendChargeNumberToNetwork" : true
        },
        "Third-Party Voice Mail Support" : {
            "isActive" : true,
            "busyRedirectToVoiceMail" : true,
            "noAnswerRedirectToVoiceMail" : true,
            "serverSelection" : "User Specific Mail Server",
            "userServer" : "4165557000",
            "mailboxIdType" : "URL",
            "mailboxURL" : "2005553001@sip.example.com",
            "noAnswerNumberOfRings" : 4,
            "alwaysRedirectToVoiceMail" : false,
            "outOfPrimaryZoneRedirectToVoiceMail" : false
        },
        "Call Forwarding No Answer" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101",
            "numberOfRings" : 4
        },
        "Call Forwarding Not Reachable" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101"
        },
        "Remote Office" : { }
    }
}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/users"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-phone-numbers" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/phone-numbers/%2B1-2005553001"
                    }
                }
            },
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/groups/exampleComNorth/phone-numbers/%2B1-2005553001"
                    }
                }
            }
        ],
        "ls:broadworks-users" : [
           {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "services" : {
                    "Authentication": {
                        "username": "2005553001",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "tnRoutine" : "",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection" : "User Specific Mail Server",
                        "userServer" : "4165557000",
                        "mailboxIdType" : "URL",
                        "mailboxURL" : "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail" : false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable" : {
                        "isActive" : true,
                        "forwardToPhoneNumber" : "+1-2005553101"
                    },
                    "Remote Office" : { }
                }
            }
        ]
    }
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4250",
    "externalErrorSummary" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned.",
    "externalErrorDetail" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned."
}


--
BroadWorks Process Steps

These requests implement BroadWorks provisioning logic as individual steps suitable for
inclusion in a process (see "Process Engine", above). Each step handles the provisioning of a
single type of BroadWorks resource.
--

Process Step: Assign Phone Numbers (for voip-users input type)

Implements phone number assignment, for use as a step in a process within the Process Customization framework.
Understands how to complete the necessary provisioning based on various types of input (depending on the process
in which it's being used). This request specifically supports only the "createVoipUsers" process is supported.

##URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>prevalidate-and-create</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/phone-numbers
> Content-Type: application/json
{
    "process" : "createVoipUser",
    "customerId" : "exampleCom",
    "siteId" : "exampleComNorth",
    "userId": "2005553001@example.com",
    "phoneNumber": "+1-2005553001",
    "tnRoutine" : "auto",
    "CLID" : "+1-2005553001",
    "extension": "3001",
    "lastName": "Doe",
    "firstName": "Jane",
    "callingLineIdLastName" : "Smith",
    "callingLineIdFirstName" : "John",
    "email": "jdoe@another.example.com",
    "timeZone": "America/New_York",
    "language" : "English",
    "sharedDeviceName": "iad_exampleCom001",
    "trunkGroupName" : "exampleTrunk",
    "servicePacks": {
        "base": "Standard",
        "add-on": [
            "Executive"
        ]
    },
    "services": {
        "Authentication": {
            "username": "2005553001@sip.example.com",
            "password": "230A4u$#%f"
        },
        "Charge Number": {
            "phoneNumber": "+1-2005554321",
            "tnRoutine" : "",
            "useChargeNumberForEnhancedTranslations": false,
            "sendChargeNumberToNetwork": true
        },
        "Third-Party Voice Mail Support": {
            "isActive": true,
            "busyRedirectToVoiceMail": true,
            "noAnswerRedirectToVoiceMail": true,
            "serverSelection" : "User Specific Mail Server",
            "userServer" : "4165557000",
            "mailboxIdType" : "URL",
            "mailboxURL" : "2005553001@sip.example.com",
            "noAnswerNumberOfRings": 4,
            "alwaysRedirectToVoiceMail": false,
            "outOfPrimaryZoneRedirectToVoiceMail" : false
        },
        "Call Forwarding No Answer": {
            "isActive": true,
            "forwardToPhoneNumber": "+1-2005553101",
            "numberOfRings": 4
        },
        "Call Forwarding Not Reachable" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101"
        },
        "Remote Office" : { }
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/phone-numbers"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-phone-numbers" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/phone-numbers/%2B1-2005553001"
                    }
                }
            },
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/groups/exampleComNorth/phone-numbers/%2B1-2005553001"
                    }
                }
            }
        ]
    }
}


Process Step: Create BroadWorks User (for voip-users input type)

Implements creation of a user in BroadWorks, for use as a step in a process within the Process Customization framework.
Understands how to complete the necessary provisioning based on various types of input (depending on the process
in which it's being used). This request specifically supports only the "createVoipUsers" process is supported.

Note, the request and response examples show both sharedDeviceName and trunkGroupName, however only one (or neither) may be present
in the request and will be present in the response.

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>prevalidate-and-create</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" is allowed.</b>
            </td>
        </tr>
        <tr>
            <td>auto-increase</td>
            <td style="text-align: center">no</td>
            <td>always</td>
            <td>Controls whether various BroadWorks limits (Group user limit; service authorizations) are automatically increased when adding users.<br />
            Allowed values: [ "always", "never", "enterprise-only" ].<br />
            **ref to documentation
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/users
> Content-Type: application/json
{
    "process" : "createVoipUser",
    "customerId" : "exampleCom",
    "siteId" : "exampleComNorth",
    "userId": "2005553001@example.com",
    "phoneNumber": "+1-2005553001",
    "tnRoutine" : "auto",
    "CLID" : "+1-2005553001",
    "extension": "3001",
    "lastName": "Doe",
    "firstName": "Jane",
    "callingLineIdLastName" : "Smith",
    "callingLineIdFirstName" : "John",
    "email": "jdoe@another.example.com",
    "timeZone": "America/New_York",
    "language" : "English",
    "sharedDeviceName": "iad_exampleCom001",
    "trunkGroupName" : "exampleTrunk",
    "servicePacks": {
        "base": "Standard",
        "add-on": [
            "Executive"
        ]
    },
    "services": {
        "Authentication": {
            "username": "2005553001@sip.example.com",
            "password": "230A4u$#%f"
        },
        "Charge Number": {
            "phoneNumber": "+1-2005554321",
            "tnRoutine" : "",
            "useChargeNumberForEnhancedTranslations": false,
            "sendChargeNumberToNetwork": true
        },
        "Third-Party Voice Mail Support": {
            "isActive": true,
            "busyRedirectToVoiceMail": true,
            "noAnswerRedirectToVoiceMail": true,
            "serverSelection" : "User Specific Mail Server",
            "userServer" : "4165557000",
            "mailboxIdType" : "URL",
            "mailboxURL" : "2005553001@sip.example.com",
            "noAnswerNumberOfRings": 4,
            "alwaysRedirectToVoiceMail": false,
            "outOfPrimaryZoneRedirectToVoiceMail" : false
        },
        "Call Forwarding No Answer": {
            "isActive": true,
            "forwardToPhoneNumber": "+1-2005553101",
            "numberOfRings": 4
        },
        "Call Forwarding Not Reachable" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101"
        },
        "Remote Office" : { }
    }
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/users"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "timeZone": "America/New_York",
                "language" : "English",
                "sharedDeviceName": "iad_exampleCom001",
                "trunkGroupName" : "exampleTrunk"
            }
        ]
    }
}


Process Step: Assign BroadWorks User Services (for voip-users input type)

Assigns services on a User in BroadWorks. For use as a step in a process within the Process Customization framework.
Understands how to complete the necessary provisioning based on various types of input (depending on the process
in which it's being used). This request specifically supports only the "createVoipUsers" process.

Note that this may assign services not included in the inputs, depending on the configuration. For example, for most user
types, the server will always assign Authentication even if it's missing from the inputs.

Note: the input body may contain additional embedded resources (from previous process steps). Only those explicilty
required are shown in the example.

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>prevalidate-and-update</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-update", "update-only" ].<br />
            <b>NOTE: at this time only "create-only" is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/assignUserServices
> Content-Type: application/hal+json
{
    "process" : "createVoipUser",
    "customerId" : "exampleCom",
    "siteId" : "exampleComNorth",
    "userId": "2005553001@example.com",
    "phoneNumber": "+1-2005553001",
    "tnRoutine" : "auto",
    "CLID" : "+1-2005553001",
    "extension": "3001",
    "lastName": "Doe",
    "firstName": "Jane",
    "callingLineIdLastName" : "Smith",
    "callingLineIdFirstName" : "John",
    "email": "jdoe@another.example.com",
    "timeZone": "America/New_York",
    "language" : "English",
    "sharedDeviceName": "iad_exampleCom001",
    "trunkGroupName" : "exampleTrunk",
    "servicePacks": {
        "base": "Standard",
        "add-on": [
            "Executive"
        ]
    },
    "services": {
        "Authentication": {
            "username": "2005553001",
            "password": "230A4u$#%f"
        },
        "Charge Number": {
            "phoneNumber": "+1-2005554321",
            "tnRoutine" : "",
            "useChargeNumberForEnhancedTranslations": false,
            "sendChargeNumberToNetwork": true
        },
        "Third-Party Voice Mail Support": {
            "isActive": true,
            "busyRedirectToVoiceMail": true,
            "noAnswerRedirectToVoiceMail": true,
            "serverSelection" : "User Specific Mail Server",
            "userServer" : "4165557000",
            "mailboxIdType" : "URL",
            "mailboxURL" : "2005553001@sip.example.com",
            "noAnswerNumberOfRings": 4,
            "alwaysRedirectToVoiceMail": false,
            "outOfPrimaryZoneRedirectToVoiceMail" : false
        },
        "Call Forwarding No Answer": {
            "isActive": true,
            "forwardToPhoneNumber": "+1-2005553101",
            "numberOfRings": 4
        },
        "Call Forwarding Not Reachable" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101"
        },
        "Remote Office" : { }
    },
        "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "timeZone": "America/New_York",
                "language" : "English",
            }
        ],
        "etc" : "various embedded resources may be present here (phone-number, device, etc)"
    }
}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/configureUserServices"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "timeZone": "America/New_York",
                "language" : "English",
                "services" : {
                    "Authentication": {
                        "username": "2005553001",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "tnRoutine" : "",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection" : "User Specific Mail Server",
                        "userServer" : "4165557000",
                        "mailboxIdType" : "URL",
                        "mailboxURL" : "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail" : false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable" : {
                        "isActive" : true,
                        "forwardToPhoneNumber" : "+1-2005553101"
                    },
                    "Remote Office" : { }
                }
            }
        ],
        "etc" : "any embedded resources from the request (phone-number, device, etc) will be included here"
    }
}


Process Step: Configure BroadWorks User Services (for voip-users input type)

Configures services on a User in BroadWorks. For use as a step in a process within the Process Customization framework.
Understands how to complete the necessary provisioning based on various types of input (depending on the process
in which it's being used). This request specifically supports only the "createVoipUsers" process is supported.

Note: the input body may contain additional embedded resources (from previous process steps). Only those explicilty
required are shown in the example.

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>prevalidate-and-update</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-update", "update-only" ].<br />
            <b>NOTE: at this time only "create-only" is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

<i>Note, any value in services."Third-Party Voice Mail Support".noAnswerNumberOfRings will
be overridden by services."Call Forwarding No Answer".numberOfRings if present, as they both affect the
same setting on the user in BroadWorks.</i>
POST /broadworks/configureUserServices
> Content-Type: application/hal+json
{
    "process" : "createVoipUser",
    "customerId" : "exampleCom",
    "siteId" : "exampleComNorth",
    "userId": "2005553001@example.com",
    "phoneNumber": "+1-2005553001",
    "tnRoutine" : "auto",
    "CLID" : "+1-2005553001",
    "extension": "3001",
    "lastName": "Doe",
    "firstName": "Jane",
    "callingLineIdLastName" : "Smith",
    "callingLineIdFirstName" : "John",
    "email": "jdoe@another.example.com",
    "timeZone": "America/New_York",
    "language" : "English",
    "sharedDeviceName": "iad_exampleCom001",
    "trunkGroupName" : "exampleTrunk",
    "servicePacks": {
        "base": "Standard",
        "add-on": [
            "Executive"
        ]
    },
    "services": {
        "Authentication": {
            "username": "2005553001",
            "password": "230A4u$#%f"
        },
        "Charge Number": {
            "phoneNumber": "+1-2005554321",
            "tnRoutine" : "",
            "useChargeNumberForEnhancedTranslations": false,
            "sendChargeNumberToNetwork": true
        },
        "Third-Party Voice Mail Support": {
            "isActive": true,
            "busyRedirectToVoiceMail": true,
            "noAnswerRedirectToVoiceMail": true,
            "serverSelection" : "User Specific Mail Server",
            "userServer" : "4165557000",
            "mailboxIdType" : "URL",
            "mailboxURL" : "2005553001@sip.example.com",
            "noAnswerNumberOfRings": 4,
            "alwaysRedirectToVoiceMail": false,
            "outOfPrimaryZoneRedirectToVoiceMail" : false
        },
        "Call Forwarding No Answer": {
            "isActive": true,
            "forwardToPhoneNumber": "+1-2005553101",
            "numberOfRings": 4
        },
        "Call Forwarding Not Reachable" : {
            "isActive" : true,
            "forwardToPhoneNumber" : "+1-2005553101"
        },
        "Remote Office" : { }
    },
        "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "timeZone": "America/New_York",
                "language" : "English",
            }
        ],
        "etc" : "various embedded resources may be present here (phone-number, device, etc)"
    }
}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/configureUserServices"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/users/2005553001%40example.com"
                    }
                },
                "phoneNumber" : "+1-2005553001",
                "extension" : "3001",
                "CLID" : "+1-2005553001",
                "userId" : "2005553001@example.com",
                "portalPassword" : "s8F!9ggo",
                "firstName" : "John",
                "lastName" : "Smith",
                "callingLineIdLastName" : "Smith",
                "callingLineIdFirstName" : "John",
                "timeZone": "America/New_York",
                "language" : "English",
                "services" : {
                    "Authentication": {
                        "username": "2005553001",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "tnRoutine" : "",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection" : "User Specific Mail Server",
                        "userServer" : "4165557000",
                        "mailboxIdType" : "URL",
                        "mailboxURL" : "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail" : false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable" : {
                        "isActive" : true,
                        "forwardToPhoneNumber" : "+1-2005553101"
                    },
                    "Remote Office" : { }
                }
            }
        ],
        "etc" : "any embedded resources from the request (phone-number, device, etc) will be included here"
    }
}


--
BroadWorks Entity - Service Providers

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the Service Provider/Enterprise level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve information about a Service Provider/Enterprise.<br />
Process name: Retrieve Service Provider/Enterprise (BroadWorks Entity Service)<br />
Only one of "isEnterprise" and "useCustomRoutingProfile" will appear in the response. Also the "useServiceProviderLanguages" will appear only for Service Providers.
GET /broadworks/service-providers/{+serviceProviderId}
< 200
< Content-Type: application/hal+json
< Transaction-Id: 1380080943120
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId": "Example Com",
    "isEnterprise": true,
    "useCustomRoutingProfile": "true",
    "name": "Example Com",
    "defaultDomain": "example.com",
    "supportEmail": "email@example.com",
    "contact": {
        "name": "John Doe",
        "number": "+1-555123890",
        "email": "contact@example.com"
    },
    "address": {
        "addressLine1": "Address Line 1",
        "addressLine2": "Address Line 1",
        "city": "My City",
        "stateOrProvince": "Alberta",
        "stateOrProvinceDisplayName": "Alberta",
        "zipOrPostalCode": "5656343",
        "country": "CA"
    },
    "useServiceProviderLanguages": false
}

Creates a new Service Provider or Enterprise<br />
Process name: Create Service Provider (BroadWorks Entity Service)<br />
Also assigns the default domain to the System and the defaultSipDomain from configuration to the System
and the newly created Service Provider/Enterprise.<br />
Note that the 424 example is just one example of a possible BroadWorks error.<br />
##URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>create-only</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time this property is ignored.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers{?mode}
> Content-Type: application/json
{
    "hostingNe": "1",
    "serviceProviderId": "Example Com",
    "name": "Example Com",
    "defaultDomain": "example.com",
    "supportEmail": "admin@example.net",
    "isEnterprise": true,
    "contact": {
        "name": "Billy",
        "number": "Bishop",
        "email": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com"
        }
    },
    "serviceProviderId": "Example Com"
    "curies": [
        {
            "name": "ls",
            "href": "http://localhost/loki/rels/{rel}",
            "templated": true
        }
    ]
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "EXTERNAL_API_ERROR",
    "externalErrorCode": "4100",
    "externalErrorSummary": "[Error 4100] Service Provider or Enterprise with the requested name already exists.",
    "externalErrorDetail": "[Error 4100] Service Provider or Enterprise with the requested name already exists."
}

Modify some or all editable properties of a BroadWorks Service Provider/Enterprise.
Process name: Modify Service Provider (BroadWorks Entity Service)
PUT /broadworks/service-providers/{+serviceProviderId}
> Content-Type: application/json
{
    "name": "Example Com",
    "defaultDomain": "example.com",
    "supportEmail": "admin@example.net",
    "contact": {
        "name": "Billy",
        "number": "Bishop",
        "email": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    },
    "useServiceProviderLanguages": false
}
< 204
< Transaction-Id: 1380080943120

Remove specified Service Provider/Enterprise from BroadWorks.
Process name: Delete Service Provider (BroadWorks Entity Service)
This request makes no attempt to check if the Service Provider/Enterprise actually exists in the System,
nor does it check to see if the Service Provider/Enterprise is allowed to be deleted.
DELETE /broadworks/service-providers/{+serviceProviderId}
< 204
< Transaction-Id: 1380080943120

Assigns a domain to the Service Provider/Enterprise and it automatically assigns to the System as well if it needs to.<br />
Process name: Assign Domain to System and Service Provider/Enterprise (BroadWorks Entity)<br />
Note that the 424 example is just one example of a possible BroadWorks error.
POST /broadworks/service-providers/{+serviceProviderId}/assignDomain
> Content-Type: application/json
{
    "domain" : "example",
    "autoAssignSystemDomain": true,
    "autoAssignServiceProviderDomain": true
}
< 200
< Content-Type: application/hal+json
< Transaction-Id: 1380080943120
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com/assignDomain"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "EXTERNAL_API_ERROR",
    "externalErrorCode": "4990",
    "externalErrorSummary": "[Error 4990] Invalid IP Address/Host or Domain Name.  The IP Address/Host or Domain Name length must be between 1 and 80 characters long and cannot contain a space or @ character.",
    "externalErrorDetail": "[Error 4990] Invalid IP Address/Host or Domain Name.  The IP Address/Host or Domain Name length must be between 1 and 80 characters long and cannot contain a space or @ character."
}

--
BroadWorks Service Providers - Phone Numbers

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to BroadWorks phone number (TN) resources at the Enterprise/Service Provider level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Assign a single phone number (TN) to an Enterprise or Service Provider.
Process name : Assign BroadWorks Service Provider/Enterprise TN (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: Yes<br />
Cluster resolution method: Service Provider<br />
Note that the 424 example is just one example of a possible BroadWorks error.
##URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>create-only</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time this property is ignored.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers/{+serviceProviderId}/phone-numbers{?mode}
> Content-Type: application/json
{
    "phoneNumber" : "+1-2005553001"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/exampleCom/phone-numbers/%2B1-2005553001
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/phone-numbers/%2B1-2005553001"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "phoneNumber": "+1-2005553001",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4250",
    "externalErrorSummary" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned.",
    "ThexternalErrorDetail" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned."
}


Check existence of an individual phone number in an Enterprise or Service Provider.
Process name : Check BroadWorks Service Provider/Enterprise TN (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster resolution method: Service Provider
HEAD /broadworks/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120

Unassign a phone number from an Enterprise or a Service Provider.
Process name : Delete  BroadWorks Service Provider/Enterprise TN (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster resolution method: Service Provider
DELETE /broadworks/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120

--
BroadWorks Entity - Groups

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the Group level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve information about a Group.

Note that BroadWorks unfortunately omits the "-" in the callingLineIdPhoneNumber. At this time
the BroadWorks value will be passed through unaltered in the response.

The following properties are omitted from the response if they have no value set on the Group in BroadWorks:

* groupName
* callingLineIdName
* callingLineIdPhoneNumber
* callingLineIdDisplayPhoneNumber
* locationDialingCode
* contact
* address

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>view</td>
            <td style="text-align: center">no</td>
            <td>(empty)</td>
            <td>Selects the view returned in the response.<br />
            Allowed values: empty, or a comma-separated list of one or more of the following: [ "extension-length", "rules" ].<br />
            Each view name corresponds to an object in the response body. If the view is named in the value of ?view, then the corresponding
            object will be included in the response. <br />
            When ?view is omitted or empty, none of the extra views will be included.<br />
            </td>
        </tr>
    </tbody>
</table>

**KNOWN ISSUE: Currently the 200 OK response body includes an "ne_id" property which is not part of the specification.**
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}{?view}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-service-providers" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/broadworks/serviceProviders/Example%20Com"
                    }
                },
                "serviceProviderId" : "Example Com"
            }
        ]
    },
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "defaultDomain": "r19.leonidsystems.com",
    "userLimit": 6,
    "userCount": 6,
    "groupName": "exampleCom North",
    "callingLineIdName": "ExampleCOM North",
    "callingLineIdPhoneNumber" : "+15552112700",
    "callingLineIdDisplayPhoneNumber" : "5552112700",
    "timeZone": "America/St_Johns",
    "timeZoneDisplayName": "(GMT-03:30) (Canada) Newfoundland",
    "locationDialingCode": "415",
    "contact": {
        "contactName": "Billy",
        "contactNumber": "Bishop",
        "contactEmail": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    },
    "extension-length" : {
        "minExtensionLength": 2,
        "maxExtensionLength": 6,
        "defaultExtensionLength": 4
    },
    "rules" : {
        "password-rules" : {
            "disallowUserId": false,
            "disallowOldPassword": false,
            "disallowReversedOldPassword": false,
            "restrictMinDigits": false,
            "minDigits": 1,
            "restrictMinUpperCaseLetters": false,
            "minUpperCaseLetters": 1,
            "restrictMinLowerCaseLetters": false,
            "minLowerCaseLetters": 1,
            "restrictMinNonAlphanumericCharacters": false,
            "minNonAlphanumericCharacters": 1,
            "minLength": 6,
            "maxFailedLoginAttempts": 5,
            "passwordExpiresDays": 30,
            "sendLoginDisabledNotifyEmail": false,
            "disallowRulesModification": false,
            "disallowPreviousPasswords": false,
            "numberOfPreviousPasswords": 1
        }
    }
}

Create a new group<br />
Also assigns the default domain to the System and Enterprise/Service Provider if needed and resolves the SIP Domain for the new group.<br />
Process name: Create Group (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: Yes<br />
Cluster resolution method: Service Provider<br />
Note that the 424 example is just one example of a possible BroadWorks error.<br />
##URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>create-only</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time this property is ignored.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers/{+serviceProviderId}/groups{?mode}
> Content-Type: application/json
{
    "groupId": "Example Com - North",
    "defaultDomain": "example.com",
    "userLimit": 10,
    "name": "North Office",
    "callingLineId": {
        "name": "ExampleComNorth"
    },
    "timeZone": "America/St_Johns",
    "locationDialingCode": "415",
    "contact": {
        "name": "Billy",
        "number": "Bishop",
        "email": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "curies": [
        {
            "name": "ls",
            "href": "http://localhost/loki/rels/{rel}",
            "templated": true
        }
    ]
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "EXTERNAL_API_ERROR",
    "externalErrorCode": "4150",
    "externalErrorSummary": "[Error 4150] The Group already exists, please use a unique Group ID.",
    "externalErrorDetail": "[Error 4150] The Group already exists, please use a unique Group ID."
}

Modify some or all editable properties of a BroadWorks Group.
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}
> Content-Type: application/json
{
    "defaultDomain": "r19.leonidsystems.com",
    "userLimit": 6,
    "groupName": "exampleCom North",
    "callingLineIdName": "ExampleCOM North",
    "callingLineIdPhoneNumber" : "+1-5553112700",
    "timeZone": "America/St_Johns",
    "locationDialingCode": "415",
    "contact": {
        "contactName": "Billy",
        "contactNumber": "Bishop",
        "contactEmail": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120

Applies a template group to an existing group<br />
Process name: Apply Group Template (BroadWorks Entity)
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/applyTemplate
> Content-Type: application/json
{
    "templateGroupId": "ExampleCOM Template"
}
< 204
< Transaction-Id: 1380080943120

Retrieve Extension Dialing settings from a BroadWorks Group.<br />
Process name: Retrieve Group Extension Length (BroadWorks Entity Service)<br />
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/extension-length"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "min": 2,
    "max": 6,
    "default": 4
}


Modify the Extension Dialing settings on a BroadWorks Group.<br />
Process name: Modify Group Extension Length (BroadWorks Entity Service)<br />
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
> Content-Type: application/json
{
    "min": 3,
    "max": 6,
    "default": 4
}
< 204
< Transaction-Id: 1380080943120

Retrieve Third-Party Voice Mail support settings from a BroadWorks Group<br />
Process name: Retrieve Group 3PVM (BroadWorks Entity Service)<br />
<b>Not Implemented</b>
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com/services/Third-Party%20Voice%20Mail%20Support"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId": "Example Com",
    "groupId": "Example Com",
    "groupServer": "+1-2005553001",
    "isActive": true
}

Update group-level settings of Third-Party Voice Mail user service<br />
Process name: Modify Group 3PVM (BroadWorks Entity Service)<br />
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
> Content-Type: application/json
{
    "isActive": true,
    "groupServer": "+1-2005553001"
}
< 204
< Transaction-Id: 1380080943120

Retrieve Voice Portal service settings from a BroadWorks Group<br />
Process name: Retrieve Group Voice Portal (BroadWorks Entity Service)<br />
<b>Not Implemented</b>
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com/services/Voice%20Portal"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId": "Example Com",
    "groupId": "Example Com",
    "serviceUserId": "VoicePortalId",
    "profile": {
        "name": "Voice Portal",
        "callingLineId": {
            "lastName": "Portal",
            "firstName": "Voice",
            "phoneNumber": "+1-555123456"
        },
        "hiragana": {
            "lastName": "Portal",
            "firstName": "Voice"
        },
        "phoneNumber": "+1-555123456",
        "countryCode": "1",
        "nationalPrefix": "+1",
        "extension": "3456",
        "department": "Dept #1",
        "language": "English",
        "timeZone": "America/New_York",
        "timeZoneDisplayName": "(GMT-04:00) (US) Eastern Time",
        "alias": [
            "voiceportal@example.com"
        ],
        "publicUserIdentity": "VoicePortalId"
    },
    "isActive": true,
    "enableExtendedScope": true,
    "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": false,
    "useVoicePortalWizard": true,
    "externalRouting": {
        "scope": "Group",
        "useExternal": true,
        "address": "external@example.com"
    },
    "homeZone": "Home Zone #1",
    "networkClassOfService": "NCoS #1"
}


Modify Voice Portal service settings from a BroadWorks Group<br />
Process name: Modify Group Voice Portal (BroadWorks Entity Service)<br />
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
> Content-Type: application/json
{
    "profile": {
        "name": "Voice Portal",
        "callingLineId": {
            "lastName": "Portal",
            "firstName": "Voice",
            "phoneNumber": "+1-555123456
        },
        "hiragana": {
            "lastName": "Portal",
            "firstName": "Voice"
        },
        "phoneNumber": "+1-555123456",
        "extension": "3456",
        "password": "#45aaTy4",
        "department": "Dept #1",
        "language": "English",
        "timeZone": "America/New_York",
        "alias": [
            "voiceportal@example.com"
        ],
        "publicUserIdentity": "VoicePortalId"
    },
    "isActive": true,
    "enableExtendedScope": true,
    "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": false,
    "useVoicePortalWizard": true,
    "externalRouting": {
        "scope": "Group",
        "useExternal": true,
        "address": "external@example.com"
    },
    "homeZone": "Home Zone #1",
    "networkClassOfService": "NCoS #1"
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Entity - Group Phone Numbers

Network Element: BroadWorks (initially only supports XSP or AS resources)

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Assign a single phone number (TN) to a Group.<br />
Process name: Assign BroadWorks Group TN<br />
Process-backed: Yes<br />
Rollback-enabled: Yes<br />
Cluster resolution method: Group
##URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>create-only</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time this property is ignored.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers{?mode}
> Content-Type: application/json
{
    "phoneNumber" : "+1-2005553001"
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/broadworks/serviceProviders/exampleCom/groups/exampleComNorth/phone-numbers/%2B1-2005553001
{
    "_links": {
        "self": {
            "href": ""http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/phone-numbers/%2B1-2005553001"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Check existence of an individual phone number in a Group.
Process name : Check BroadWorks Group TN (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster resolution method: Group
HEAD /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Unassign a phone number from a Group.
Process name: Delete BroadWorks Group TN (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster resolution method: Group
DELETE /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120

Activates one or more phone numbers and/or ranges of phone numbers in BroadWorks
Process Name : Activate TNs (BroadWorks Entity)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster Resolution Method: Group
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/activate
> Content-Type: application/json
{
    "phoneNumbers" : [
        "+1-5553070900",
        "+1-5553070910",
        {
            "start" : "+1-5553071000",
            "end" : "+1-5553071009"
        },
        "+1-5553070876",
        {
            "start" : "+1-5553072000",
            "end" : "+1-5553072003"
        }
    ]
}
< 204
< Transaction-Id: 1380080943120

Deactivates one or more phone numbers and/or ranges of phone numbers in BroadWorks.
Process Name: Deactivate TNs (BroadWorks Entity)<br />
Process-backed: Yes<br />
Rollback-enabled: No<br />
Cluster Resolution Method: Group
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/deactivate
> Content-Type: application/json
{
    "phoneNumbers" : [
        "+1-5553070900",
        "+1-5553070910",
        {
            "start" : "+1-5553071000",
            "end" : "+1-5553071009"
        },
        "+1-5553070876",
        {
            "start" : "+1-5553072000",
            "end" : "+1-5553072003"
        }
    ]
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Entity - Group Trunk Groups

Network Element: BroadWorks (initially only supports XSP or AS resources)

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Creates a new BroadWorks Group Trunk Group<br />
Process name: Create BroadWorks Group Trunk Group (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: Yes<br />
Cluster resolution method: Group
##Request URI Query Parameters
<table border="1">
    <thead>
        <th>Parameter</th>
        <th>Required</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td>no</td>
            <td>create-only</td>
            <td>
                Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
                Initially, mode will always be ignored, and the behavior will always be create-only.
             </td>
        </tr>
        <tr>
            <td>auto-increase</td>
            <td>no</td>
            <td>always</td>
            <td>
                The following table describes behavior depending on values for this parameter.
                <table border="1">
                    <thead>
                        <th>Value</th>
                        <th>Action</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>always</td>
                            <td>Always apply the auto-increase logic described below.</td>
                        </tr>
                        <tr>
                            <td>never</td>
                            <td>Never apply the auto-increase logic described below (simply return success).</td>
                        </tr>
                        <tr>
                            <td>enterprise-only</td>
                            <td>Apply the auto-increase logic described below only when serviceProviderId identifies an Enterprise.
                            If serviceProviderId identifies a Service Provider, do not apply the auto-increase logic described below (simply return success).
                            </td>
                        </tr>
                    </tbody>
                </table>
                The auto increase logic to suffice Trunk Call Capacity for a new Group Trunk Group is as follows:<br />
                1. For maxActiveCalls all we need to do:<br />
                &nbsp;&nbsp;&nbsp;&nbsp;a. Check that the value requested in the request (capacityManagement.maxActiveCalls.total) is equal or smaller than the value on the Group (maxActiveCalls).<br />
                &nbsp;&nbsp;&nbsp;&nbsp;b. If we need to increase the Group then check to see if we need to increase for Service Provider as well.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;c. Group Setting (maxAvailableActiveCalls.quantity) holds the value from the Enterprise. If this value is smaller than the value requested by Trunk Group then set the same value as set on the Group.<br />
                2. For burstActiveCalls we need to:<br />
                &nbsp;&nbsp;&nbsp;&nbsp;a. If Group setting is not unlimited then get the burstActiveCalls value from all trunk group's in the group ( will refer to value as burstingMaxActiveCallsAllocatedToTrunkGroups).<br />
                &nbsp;&nbsp;&nbsp;&nbsp;b. Get the burstActiveCalls available on the Group (will refer to values as availableBurstMaxActiveCallsInGroup). This is current Group Call Capacity setting (burstingMaxActiveCalls.quantity) minus the burst Active Calls used by Trunk Groups (burstingMaxActiveCallsAllocatedToTrunkGroups).<br />
                &nbsp;&nbsp;&nbsp;&nbsp;c. Then if the available burstActiveCalls value on the Group (availableBurstMaxActiveCallsInGroup) is smaller then the requested value then increase the Group with the difference of the 2 quantities.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;d. Group Setting (burstingMaxAvailableActiveCalls) holds the available quantity to increase to the Group. If it is unlimited then no need to increase Service Provider value.<br />
                &nbsp;&nbsp;&nbsp;&nbsp;e. If available quantity is fixed (burstingMaxAvailableActiveCalls.quantity) then:
                calculate the available amount on the Service Provider which is [burstingMaxAvailableActiveCalls.quantity] - [burstingMaxActiveCalls.quantity] (will refer to value as availableBurstMaxActiveCallsInServiceProvider)<br />
                &nbsp;&nbsp;&nbsp;&nbsp;f. If the value which is being increased to the Group is bigger than what is available from the SP\Ent then increase the SP\Ent burstMaxActive calls with that difference [quantity increased to Group] - [quantity available in SP].
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups{?mode, auto-increase}
> Content-Type: application/json
{
    "trunkGroupName" : "ExampleCom Trunk 3001",
    "department" : {
        "name" : "Sales",
        "level" : "Group"
    },
    "accessDevice" : {
        "level" : "Group",
        "deviceName" : "ExampleCom_AD3001"
    },
    "capacityManagement" : {
        "maxActiveCalls" : {
            "total" : 10,
            "incoming" : 4,
            "outgoing" : 3
        },
        "burstingMaxActiveCalls" : {
            "enabled" : false,
            "total" : 12,
            "incoming" : 7,
            "outgoing" : 9
        },
        "incomingCapacityExceeded" : {
            "action" : "Forward",
            "forwardAddress" : "4165551212",
            "rerouteTrunkGroup" : {
                "groupId" : "Example Com - North",
                "trunkGroupName" : "ExampleCom Trunk 1212"
            },
            "initialCalls" : 2,
            "offsetCalls" : 3
        }
    },
    "unreachableDestination" : {
        "timeout" : 10,
        "action" : "Reroute",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "authentication" : {
        "enabled" : true,
        "username" : "2005553001@sip.example.com",
        "password" : "230A4u$#%f"
    },
    "identity" : {
        "trunkGroupIdentity" : {
            "identity" : "2005553001@sip.example.com",
            "allowTerminationToTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentityForNetworkCalls" : false
        },
        "otgDtgIdentity" : {
            "identity" : "2005553001",
            "allowTerminationToDtgIdentity" : false,
            "includeDtgIdentity" : false,
            "includeOtgIdentityForNetworkCalls" : false
        },
        "enableNetworkAddressIdentity" : false
    },
    "allowUnscreenedCalls" : true,
    "allowUnscreenedEmergencyCalls" : false,
    "pilotUserCallingLineIdentityPolicy" : "No Calls",
    "pilotUserChargeNumberPolicy" : "No Calls",
    "callForwardingAlways" : {
        "action" : "Forward",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "peeringDomain" : {
        "domainName" : "two.example.com",
        "routeToPeeringDomain" : false
    },
    "trunkGroupPrefix" : {
        "enabled" : false,
        "prefix" : "1234"
    },
    "advancedReroute" : {
        "enabled" : false,
        "sendContinuousOptionsMessage" : false,
        "continuousOptionsSendingInterval" : 30,
        "failureOptionsSendingInterval" : 10,
        "failureThresholdCounter" : 1,
        "successThresholdCounter" : 1,
        "inviteFailureThresholdCounter" : 1,
        "inviteFailureThresholdWindow" : 30
    },
    "pilotUserCallingLineAssertedIdentityPolicy" : {
        "useTrunkGroupCallingLineAssertedIdentityPolicy" : false,
        "callingLineAssertedIdentityPolicy" : "Unscreened Originating Calls"
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/ExampleCom%20Trunk%203001
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/ExampleCom%20Trunk%203001"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "trunkGroupName": "ExampleCom Trunk 3001",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Retrieve the profile settings of a BroadWorks Group Trunk Group<br />
Process name: Retrieve BroadWorks Group Trunk Group (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
< 200
< Content-Type: application/hal+json
< Transaction-Id: 1380080943120
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/ExampleCom%20Trunk%203001"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "trunkGroupName": "ExampleCom Trunk 3001",
	"pilotUserId" : "4165552200@example.com",
    "accessDevice" : {
        "level" : "Group",
        "deviceName" : "ExampleCom_AD3001"
    },
    "department" : "Sales",
    "capacityManagement" : {
        "maxActiveCalls" : {
            "total" : 10,
            "incoming" : 4,
            "outgoing" : 3
        },
        "burstingMaxActiveCalls" : {
            "enabled" : false,
            "total" : 12,
            "incoming" : 7,
            "outgoing" : 9
        },
        "incomingCapacityExceeded" : {
            "action" : "Forward",
            "forwardAddress" : "4165551212",
            "rerouteTrunkGroup" : {
                "groupId" : "Example Com - North",
                "trunkGroupName" : "ExampleCom Trunk 1212"
            },
            "initialCalls" : 2,
            "offsetCalls" : 3
        }
    },
    "unreachableDestination" : {
        "timeout" : 10,
        "action" : "Reroute",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "authentication" : {
        "enabled" : true,
        "username" : "2005553001@sip.example.com"
    },
    "identity" : {
        "trunkGroupIdentity" : {
            "identity" : "2005553001@sip.example.com",
            "allowTerminationToTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentityForNetworkCalls" : false
        },
        "otgDtgIdentity" : {
            "identity" : "2005553001",
            "allowTerminationToDtgIdentity" : false,
            "includeDtgIdentity" : false,
            "includeOtgIdentityForNetworkCalls" : false
        },
        "enableNetworkAddressIdentity" : false
    },
    "allowUnscreenedCalls" : true,
    "allowUnscreenedEmergencyCalls" : false,
    "pilotUserCallingLineIdentityPolicy" : "No Calls",
    "pilotUserChargeNumberPolicy" : "No Calls",
    "callForwardingAlways" : {
        "action" : "Forward",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "peeringDomain" : {
        "domainName" : "two.example.com",
        "routeToPeeringDomain" : false
    },
    "trunkGroupPrefix" : {
        "enabled" : false,
        "prefix" : "1234"
    },
    "advancedReroute" : {
        "enabled" : false,
        "sendContinuousOptionsMessage" : false,
        "continuousOptionsSendingInterval" : 30,
        "failureOptionsSendingInterval" : 10,
        "failureThresholdCounter" : 1,
        "successThresholdCounter" : 1,
        "inviteFailureThresholdCounter" : 1,
        "inviteFailureThresholdWindow" : 30
    },
    "pilotUserCallingLineAssertedIdentityPolicy" : {
        "useTrunkGroupCallingLineAssertedIdentityPolicy" : false,
        "callingLineAssertedIdentityPolicy" : "Unscreened Originating Calls"
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Update the profile settings of a BroadWorks Group Trunk Group<br />
Process name: Update BroadWorks Group Trunk Group (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
> Content-Type: application/json
{
    "pilotUserId" : "4165552200@example.com",
    "accessDevice" : {
        "level" : "Group",
        "deviceName" : "ExampleCom_AD3001"
    },
    "department" : "Sales",
    "capacityManagement" : {
        "maxActiveCalls" : {
            "total" : 10,
            "incoming" : 4,
            "outgoing" : 3
        },
        "burstingMaxActiveCalls" : {
            "enabled" : false,
            "total" : 12,
            "incoming" : 7,
            "outgoing" : 9
        },
        "incomingCapacityExceeded" : {
            "action" : "Forward",
            "forwardAddress" : "4165551212",
            "rerouteTrunkGroup" : {
                "groupId" : "Example Com - North",
                "trunkGroupName" : "ExampleCom Trunk 1212"
            },
            "initialCalls" : 2,
            "offsetCalls" : 3
        }
    },
    "unreachableDestination" : {
        "timeout" : 10,
        "action" : "Reroute",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "authentication" : {
        "enabled" : true,
        "username" : "2005553001@sip.example.com",
        "password" : "230A4u$#%f"
    },
    "identity" : {
        "trunkGroupIdentity" : {
            "identity" : "2005553001@sip.example.com",
            "allowTerminationToTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentity" : false,
            "includeTrunkGroupIdentityForNetworkCalls" : false
        },
        "otgDtgIdentity" : {
            "identity" : "2005553001",
            "allowTerminationToDtgIdentity" : false,
            "includeDtgIdentity" : false,
            "includeOtgIdentityForNetworkCalls" : false
        },
        "enableNetworkAddressIdentity" : false
    },
    "allowUnscreenedCalls" : true,
    "allowUnscreenedEmergencyCalls" : false,
    "pilotUserCallingLineIdentityPolicy" : "No Calls",
    "pilotUserChargeNumberPolicy" : "No Calls",
    "callForwardingAlways" : {
        "action" : "Forward",
        "forwardAddress" : "4165551212",
        "rerouteTrunkGroup" : {
            "groupId" : "Example Com - North",
            "trunkGroupName" : "ExampleCom Trunk 1212"
        }
    },
    "peeringDomain" : {
        "domainName" : "two.example.com",
        "routeToPeeringDomain" : false
    },
    "trunkGroupPrefix" : {
        "enabled" : false,
        "prefix" : "1234"
    },
    "advancedReroute" : {
        "enabled" : false,
        "sendContinuousOptionsMessage" : false,
        "continuousOptionsSendingInterval" : 30,
        "failureOptionsSendingInterval" : 10,
        "failureThresholdCounter" : 1,
        "successThresholdCounter" : 1,
        "inviteFailureThresholdCounter" : 1,
        "inviteFailureThresholdWindow" : 30
    },
    "pilotUserCallingLineAssertedIdentityPolicy" : {
        "useTrunkGroupCallingLineAssertedIdentityPolicy" : false,
        "callingLineAssertedIdentityPolicy" : "Unscreened Originating Calls"
    }
}
< 204
< Transaction-Id: 1380080943120

Delete a BroadWorks Group Trunk Group<br />
Process name: Delete BroadWorks Group Trunk Group (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group
DELETE /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
< 204
< Transaction-Id: 1380080943120
--
BroadWorks Entity - Group Devices

Network Element: BroadWorks (initially only supports XSP or AS resources)

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve information about a BroadWorks Group Device.<br />
Process name: Retrieve BroadWorks Group Device (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
< 200
< Content-Type: application/hal+json
< Transaction-Id: 1380080943120
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/devices/ExampleCom_AD3001"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North ",
    "deviceName": "ExampleCom_AD3001",
    "deviceType": "AdTran TA908",
    "protocol": "SIP 2.0",
    "netAddress": "10.0.0.5",
    "port": 8080,
    "outboundProxyServerNetAddress": "proxy1.example.com",
    "stunServerNetAddress": "192.168.100.100",
    "macAddress": "AABBCC112233",
    "serialNumber": "A101-263",
    "description": "Device for Trunk 3001",
    "ports" : {
        "unlimited" : false,
        "quantity" : 10,
        "assigned" : 4
    },
    "status" : "Online",
    "configurationFile" : {
        "mode" : "Custom",
        "filename" : "/var/broadworks/IpDeviceConfig/1/7767/177670294/Custom_ExampleCom_PolyTemplate_ExampleComPoly1901.template"
    },
    "physicalLocation": "202 Main Street Nowhere, FR",
    "transportProtocol": "TCP",
    "accessDeviceCredentials": {
        "enabled" : true,
        "username": "4165551212",
        "password": "4D0fj$&zJ"
    }
}

Creates a new BroadWorks Group Device<br />
Process name: Create BroadWorks Group Device (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Rollback-enabled: Yes<br />
Cluster resolution method: Group
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center">no</td>
            <td>create-only</td>
            <td>Controls execution mode as described in **ref general documentation.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time this property is ignored.</b>
            </td>
        </tr>
    </tbody>
</table>
POST /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices{?mode}
> Content-Type: application/json
{
    "deviceName": "ExampleCom_AD3001",
    "deviceType": "AdTran TA908",
    "protocol": "SIP 2.0",
    "netAddress": "10.0.0.5",
    "port": 8080,
    "outboundProxyServerNetAddress": "proxy1.example.com",
    "stunServerNetAddress": "192.168.100.100",
    "macAddress": "AABBCC112233",
    "serialNumber": "A101-263",
    "description": "Device for Trunk 3001",
    "physicalLocation": "202 Main Street Nowhere, FR",
    "transportProtocol": "TCP",
    "accessDeviceCredentials": {
        "enabled" : true,
        "username": "4165551212",
        "password": "4D0fj$&zJ"
    },
    "mobilityManager": {
        "provisioningURL": "example.com",
        "provisioningUserName": "example",
        "provisioningPassword": "example",
        "defaultOriginatingServiceKey": 123,
        "defaultTerminatingServiceKey": 123
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/loki-services/broadworks/service-providers/Example%20Com
{
    "_links" : {
        "self" : {
            "href" : "http://lokiserver.example.com/loki-services/broadworks/service-providers/Example%20Com/groups/Example%20Com%20-%20North/devices/ExampleCom_AD3001"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://lokiserver.example.com/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North ",
    "deviceName": "ExampleCom_AD3001"
}

Modify some or all editable properties of a BroadWorks Group Device.<br />
Process name: Update BroadWorks Group Device (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group
PUT /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
> Content-Type: application/json
{
    "protocol": "SIP 2.0",
    "netAddress": "10.0.0.5",
    "port": 8080,
    "outboundProxyServerNetAddress": "proxy1.example.com",
    "stunServerNetAddress": "192.168.100.100",
    "macAddress": "AABBCC112233",
    "serialNumber": "A101-263",
    "description": "Device for Trunk 3001",
    "configurationFile" : {
        "mode" : "Custom",
        "content" : "TG9yZW0gaXBzdW0=",
    },
    "physicalLocation": "202 Main Street Nowhere, FR",
    "transportProtocol": "TCP",
    "accessDeviceCredentials": {
        "enabled" : true,
        "username": "4165551212",
        "password": "4D0fj$&zJ"
    },
    "mobilityManager": {
        "provisioningURL": "example.com",
        "provisioningUserName": "example",
        "provisioningPassword": "example",
        "defaultOriginatingServiceKey": 123,
        "defaultTerminatingServiceKey": 123
    }
}
< 204
< Transaction-Id: 1380080943120

Remove specified Group Device from BroadWorks.<br />
Process name: Delete BroadWorks Group Device (BroadWorks Entity Service)<br />
Process-backed: Yes<br />
Cluster resolution method: Group<br />
This request makes no attempt to check if the Group Device actually exists in the System,
nor does it check to see if the Group Device is allowed to be deleted.
DELETE /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Entity - Users

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the System level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve a user's call processing policies - corresponds to User > Profile > Call Processing Policies in the BroadWorks CommPortal.
Refer to OCI UserCallProcessingModifyPolicyRequest documentation for schema (data types, allowed values, etc).

** NOT IMPLEMENTED **
GET /broadworks/users/{+userId}/call-processing-policy
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/users/4155551212%20example.com/call-processing-policy"
        }
    },
    "curies": [
        {
            "name": "ls",
            "href": "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated": true
        }
    ],
    "_embedded": {
        "ls:broadworks-users": [
            {
                "_links": {
                    "self": {
                        "href": "http://loki3services.apiary.io/loki-services/broadworks/users/4155551212%20example.com"
                    }
                },
                "userId": "4155551212@example.com"
            }
        ]
    },
    "userId" : "4155551212@example.com",
    "callingLineId": {
        "useUserCLIDSetting": false,
        "clidPolicy": "Use DN",
        "emergencyClidPolicy": "Use DN",
        "allowAlternateNumbersForRedirectingIdentity": true,
        "useGroupName": false,
        "allowConfigurableCLIDForRedirectingIdentity": true,
        "blockCallingNameForExternalCalls": false
    },
    "media": {
        "useUserMediaSetting": false,
        "mediaPolicySelection": "No Restrictions",
        "supportedMediaSetName": "Example"
    },
    "callLimits": {
        "useUserCallLimitsSetting": false,
        "useMaxSimultaneousCalls": false,
        "maxSimultaneousCalls": 10,
        "useMaxSimultaneousVideoCalls": false,
        "maxSimultaneousVideoCalls": 5,
        "useMaxCallTimeForAnsweredCalls": false,
        "maxCallTimeForAnsweredCallsMinutes": 600,
        "useMaxCallTimeForUnansweredCalls": false,
        "maxCallTimeForUnansweredCallsMinutes": 2,
        "useMaxConcurrentRedirectedCalls": false,
        "maxConcurrentRedirectedCalls": 3,
        "useMaxFindMeFollowMeDepth": false,
        "maxFindMeFollowMeDepth": 3,
        "maxRedirectionDepth": 10,
        "useMaxConcurrentFindMeFollowMeInvocations": false,
        "maxConcurrentFindMeFollowMeInvocations": 3
    },
    "incomingCallerId": {
        "useUserDCLIDSetting": false,
        "enableDialableCallerID": false
    }
}


Update a user's call processing policies - corresponds to User > Profile > Call Processing Policies in the BroadWorks CommPortal.
Refer to OCI UserCallProcessingModifyPolicyRequest documentation for schema (data types, allowed values, etc).

** NOT IMPLEMENTED **
PUT /broadworks/users/{+userId}/call-processing-policy
> Content-Type: application/json
{
    "callingLineId": {
        "useUserCLIDSetting": false,
        "clidPolicy": "Use DN",
        "emergencyClidPolicy": "Use DN",
        "allowAlternateNumbersForRedirectingIdentity": true,
        "useGroupName": false,
        "allowConfigurableCLIDForRedirectingIdentity": true,
        "blockCallingNameForExternalCalls": false
    },
    "media": {
        "useUserMediaSetting": false,
        "mediaPolicySelection": "No Restrictions",
        "supportedMediaSetName": "Example"
    },
    "callLimits": {
        "useUserCallLimitsSetting": false,
        "useMaxSimultaneousCalls": false,
        "maxSimultaneousCalls": 10,
        "useMaxSimultaneousVideoCalls": false,
        "maxSimultaneousVideoCalls": 5,
        "useMaxCallTimeForAnsweredCalls": false,
        "maxCallTimeForAnsweredCallsMinutes": 600,
        "useMaxCallTimeForUnansweredCalls": false,
        "maxCallTimeForUnansweredCallsMinutes": 2,
        "useMaxConcurrentRedirectedCalls": false,
        "maxConcurrentRedirectedCalls": 3,
        "useMaxFindMeFollowMeDepth": false,
        "maxFindMeFollowMeDepth": 3,
        "maxRedirectionDepth": 10,
        "useMaxConcurrentFindMeFollowMeInvocations": false,
        "maxConcurrentFindMeFollowMeInvocations": 3
    },
    "incomingCallerId": {
        "useUserDCLIDSetting": false,
        "enableDialableCallerID": false
    }
}
< 204
< Transaction-Id: 1380080943120


Retrieve BroadWorks User<nr />
Process name: Retrieve BroadWorks User (BroadWorks Entity)
GET /broadworks/users/{+userId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/broadworks/users/JohnDoe"
        }
    },
    "serviceProviderId": "EnterpriseID",
    "groupId": "GroupID",
    "lastName": "JohnDoe",
    "firstName": "JohnDoe",
    "callingLineIdLastName": "JohnDoe",
    "callingLineIdFirstName": "JohnDoe",
    "hiraganaLastName": "JohnDoe",
    "hiraganaFirstName": "JohnDoe",
    "phoneNumber": "+1-2147483642",
    "extension": "642",
    "language": "English",
    "timeZone": "America/Winnipeg",
    "timeZoneDisplayName": "(GMT-06:00) (Canada) Central Time",
    "defaultAlias": "JohnDoe@r19.leonidsystems.com",
    "accessDeviceEndpoint": {
        "accessDevice": {
            "deviceLevel": "Group",
            "deviceName": "0002"
        },
        "linePort": "2147483642@r19.leonidsystems.com",
        "staticRegistrationCapable": false,
        "useDomain": true
    },
    "countryCode": "1",
    "userId": "JohnDoe",
    "ne_id": "1",
    "curies": [
        {
            "name": "ls",
            "href": "http://loki3services.apiary.io/loki/rels/{rel}",
            "templated": true
        }
    ]
}
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4008",
    "externalErrorSummary": "[Error 4008] User not found: JohnDoe",
    "externalErrorDetail": "[Error 4008] User not found: JohnDoe"
}


--
BroadWorks System - General

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the System level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve the Systems's domains, including the default domain.

Note the "domains" property, if present, will always be an array (even if it has only one element)  .
GET /network-elements/broadworks/{+ne_id}/domains
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/domains"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "systemDefaultDomain" : "example.com",
    "domains" : [
        "another.example.com",
        "last.example.com"
    ]
}

Add a new domain to the System.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/domains
> Content-Type: application/json
{
    "domain" : "example"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/domains/example
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4260",
    "externalErrorSummary" : "[Error 4260] Cannot add domain with same name as an existing domain.",
    "ThexternalErrorDetail" : "[Error 4260] Cannot add domain with same name as an existing domain."
}

Delete a System domain.

This request makes no attempt to check if the domain actually exists in the System,
nor does it check to see if the domain is allowed to be deleted.
DELETE /network-elements/broadworks/{+ne_id}/domains/{+domain}
< 204
< Transaction-Id: 1380080943120

Retrieve the Systems's list of defined languages, including the default language.
GET /network-elements/broadworks/{+ne_id}/languages
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/languages"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "defaultLanguage": "English",
    "languageTable": {
        "English": {
            "Language": "English",
            "Locale": "en_US",
            "Encoding": "ISO-8859-1"
        },
        "French" : {
            "Language": "French",
            "Locale": "fr_CA",
            "Encoding": "ISO-8859-1"
        }
    }
}

Retrieve the Systems's list of defined time zones, including the default time zone.
GET /network-elements/broadworks/{+ne_id}/time-zones
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/time-zones"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "timeZoneTable": {
        "Europe/Bucharest": {
            "Key": "Europe/Bucharest",
            "Display Name": "(GMT+02:00) Europe/Bucharest"
        },
        "America/St_Johns": {
            "Key": "America/St_Johns",
            "Display Name": "(GMT-03:30) (Canada) Newfoundland"
        }
    }
}


--
BroadWorks Service Providers - General

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the Enterprise/Service Provider level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.

URI Template Variables:

* <code>serviceProviderId</code> - Corresponds to the ID of the service provider (or enterprise) in BroadWorks;
e.g. serviceProviderId in a BroadWorks OCI ServiceProviderGetListRequest.
* <code>ne_id</code> - Corresponds to the networkElementId of the appropriate cluster in the BroadWorks section of the configuration.

--

Retrieve an enterprise or service provider.

Only one of "isEnterprise" and "useCustomRoutingProfile" will appear in the response.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
< 200
< Content-Type: application/json
< Transaction-Id: 1380080943120
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com"
        }
    },
    "isEnterprise": true,
    "defaultDomain": "example.com",
    "serviceProviderName": "Example Com",
    "supportEmail": "jane.doe@example.com",
    "contact": {
        "contactName": "John Doe",
        "contactNumber": "4165554321",
        "contactEmail": "john.doe@example.com"
    },
    "address": {
        "addressLine1": "1 E ST NE",
        "addressLine2": "Unit 2",
        "city": "Washington",
        "stateOrProvince": "DC",
        "zipOrPostalCode": "20025",
        "country": "USA"
    },
    "useServiceProviderLanguages": false,
    "serviceProviderId": "ExampleCom",
    "ne_id": "1",
    "curies": [
        {
            "name": "ls",
            "href": "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated": true
        }
    ]
}


Creates a new Service Provider/Enterprise in BroadWorks.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/service-providers
> Content-Type: application/json
{
    "serviceProviderId": "Example Com",
    "isEnterprise": true,
    "defaultDomain": "mydomain.com",
    "serviceProviderName": "Example Com",
    "supportEmail": "support@mydomain.com",
    "contact": {
        "contactName": "Jane Doe",
        "contactNumber": "+1-555009056",
        "contactEmail": "jdoe@mydomain.com"
    },
    "address": {
        "addressLine1": "123 Main Street",
        "addressLine2": "Building 5",
        "city": "New York",
        "stateOrProvince": "New York",
        "stateOrProvinceDisplayName": "New York",
        "zipOrPostalCode": "10007",
        "country": "US"
    }
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com"
        }
    },
    "ne_id": "1",
    "serviceProviderId": "Example Com",
    "curies": [
        {
            "name": "ls",
            "href": "http://lokiserver.example/loki/rels/{rel}",
            "templated": true
        }
    ]
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "EXTERNAL_API_ERROR",
    "externalErrorCode": "4100",
    "externalErrorSummary": "[Error 4100] Service Provider or Enterprise with the requested name already exists.",
    "externalErrorDetail": "[Error 4100] Service Provider or Enterprise with the requested name already exists."
}


Modifies the profile settings for an existing BroadWorks Service Provider/Enterprise.

PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
> Content-Type: application/json
{
    "defaultDomain": "mydomain.com",
    "serviceProviderName": "Example Com",
    "supportEmail": "support@mydomain.com",
    "contact": {
        "contactName": "Jane Doe",
        "contactNumber": "+1-555009056",
        "contactEmail": "jdoe@mydomain.com"
    },
    "address": {
        "addressLine1": "123 Main Street",
        "addressLine2": "Building 5",
        "city": "New York",
        "stateOrProvince": "New York",
        "stateOrProvinceDisplayName": "New York",
        "zipOrPostalCode": "10007",
        "country": "US"
    },
    "useServiceProviderLanguages": "true"
}
< 204
< Transaction-Id: 1380080943120


Removes an existing Service Provider/Enterprise from BroadWorks.

DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
< 204
< Transaction-Id: 1380080943120


Retrieve the Service Provider's assigned domains, including it's default domain.

Note the "domains" property, if present, will always be an array (even if it has only one element)  .
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/domains"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "serviceProviderDefaultDomain" : "example.com",
    "domains" : [
        "another.example.com",
        "last.example.com"
    ]
}

Assign a new domain to the Service Provider.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains
> Content-Type: application/json
{
    "domain" : "example"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/{+serviceProviderId}/domains/example
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4267",
    "externalErrorSummary" : "[Error 4267] Error assigning domain since the domain is already assigned: example",
    "ThexternalErrorDetail" : "[Error 4267] Error assigning domain since the domain is already assigned: example"
}

Unassign a Service Provider domain.

This request makes no attempt to check if the domain actually exists in the Service Provider,
nor does it check to see if the domain is allowed to be deleted.
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains/{+domain}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Service Providers - Phone Numbers

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to BroadWorks phone number (TN) resources at the Enterprise/Service Provider level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Assign a single phone number (TN) to an Enterprise or Service Provider.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers
> Content-Type: application/json
{
    "phoneNumber" : "+1-2005553001"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/exampleCom/phone-numbers/%2B1-2005553001
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4250",
    "externalErrorSummary" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned.",
    "ThexternalErrorDetail" : "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned."
}


Check existence of an individual phone number in an Enterprise or Service Provider.
HEAD /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Retrieve an individual phone number from an Enterprise or Service Provider.

***NOTE: most likely the embedded service-provider should be removed here; this GET shouldn't be attempting to construct
broadworks-groups resource representations itself, and it would be wasteful to do an actual GET on /groups to
fetch the group resource. really, if we want a link to the service-provider here, use _links. ***

** NOT IMPLEMENTED; also, need decide if _embedded service-provider stays, or changes to a _links entry, or just goes away **
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/phone-numbers/%2B1-2005551212"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-service-providers" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com"
                    }
                },
                "ne_id" : "1",
                "serviceProviderId" : "Example Com"
            }
        ]
    },
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "phoneNumber" : "+1-2005551212",
    "canDelete" : true
}
+++++
< 404
< Transaction-Id: 1380080943120


Unassign a phone number from an Enterprise or a Service Provider.

This request makes no attempt to check if the TN is actually assigned on the Enterprise/Service Provider,
nor does it check to see if the TN allowed to be deleted. In future we may choose to use
GET /broadworks/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber} to first check for existence and
verify that the TN is allowed to be deleted; in which case we could return 404 if the TN isn't assigned
on the ent/SP, or another 4xx if it's assigned but not allowed to be deleted (e.g. if it's assigned
to a Group).
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Service Providers - Services

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to services (authorizations, service packs) at the Enterprise/Service Provider level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve the Service Provider's service authorization detail.

*In the current implementation, some properties can be misleading, please note:*

* *When "Limited" is "Unlimited" or "none", then "Quantity" will be null. Otherwise, "Quantity" will be numeric.*
* *Both "Allocated" and "Service Pack Allocation" are strings, and may have value "Unlimited" or may have the string representation of a numeric value.*
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/services
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/services"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupServicesAuthorizationTable": {
        "Account/Authorization Codes": {
            "Service Name": "Account/Authorization Codes",
            "Authorized": true,
            "Assigned": false,
            "Limited": "Unlimited",
            "Quantity": null,
            "Allocated": 1,
            "Licensed": true,
            "Service Pack Allocation": 0
        },
        "Auto Attendant": {
            "Service Name": "Auto Attendant",
            "Authorized": true,
            "Assigned": false,
            "Limited": "Limited",
            "Quantity": 20,
            "Allocated": 10,
            "Licensed": true,
            "Service Pack Allocation": 0
        },
        "etc" : "truncated for brevity"
    },
    "userServicesAuthorizationTable": {
        "3G/4G Continuity" : {
            "Service Name" : "3G/4G Continuity",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Unlimited",
            "Quantity" : null,
            "Allocated" : "Unlimited",
            "Licensed" : true,
            "Service Pack Allocation" : "Unlimited",
            "User Assignable" : true,
            "Service Pack Assignable": true
        },
        "Advice Of Charge" : {
            "Service Name" : "Advice Of Charge",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Unlimited",
            "Quantity" : null,
            "Allocated" : "Unlimited",
            "Licensed" : true,
            "Service Pack Allocation" : 0,
            "User Assignable" : true,
            "Service Pack Assignable": true
        },
        "etc" : "truncated for brevity"
    }
}

Update the Service Provider's service authorizations. Each of groupServicesAuthorizationTable and
userServicesAuthorizationTable may contain zero or more entries (or be omitted entirely). Invalid combinations
(for example, Authorized=false with Limited=Unlimited) may result in an 500 Internal Server Error
or a 400 Bad Request, depending on the response from the BroadWorks Utility Service.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/services
> Content-Type: application/json
{
    "groupServicesAuthorizationTable": {
        "Auto Attendant": {
            "Authorized": false
        },
        "Group Paging": {
            "Authorized": true,
            "Limited": "Unlimited"
        },
        "Hunt Group": {
            "Authorized": true,
            "Limited": "Limited",
            "Quantity": 20
        }
    },
    "userServicesAuthorizationTable": {
        "Remote Office": {
            "Authorized": false
        },
        "Authentication": {
            "Authorized": true,
            "Limited": "Unlimited"
        },
        "Call Waiting" : {
            "Authorized": true,
            "Limited": "Limited",
            "Quantity": 20
        }
    }
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Service Providers - Trunking Call Capacity

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to Trunking Call Capacity settings, Max Active Calls and Bursting Max Active Calls, at the Enterprise/Service Provider level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve Trunking Call Capacity settings for an Enterprise/Service Provider.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/trunking-call-capacity
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/trunking-call-capacity"
        }
    },
    "maxActiveCalls": {
        "quantity": 0
    },
    "burstingMaxActiveCalls": {
        "quantity": 0
    },
    "serviceProviderId": "Example Com",
    "ne_id": "asp1_r21",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
}
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4151",
    "externalErrorSummary": "[Error 4151] Service Provider or Enterprise not found: Bogus Enterprise",
    "externalErrorDetail": "[Error 4151] Service Provider or Enterprise not found: Bogus Enterprise"
}

Update the Trunking Call Capacity settings to an Enterprise/Service Provider.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/trunking-call-capacity
> Content-Type: application/json
{
	"maxActiveCalls": {
        "unlimited": true,
        "quantity": 4
    },
    "burstingMaxActiveCalls": {
        "unlimited": true,
        "quantity": 4
    }
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Groups - General

Network Element: BroadWorks (initially only supports XSP or AS resources)

Various resources providing general internal services at the Group level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve information about a BroadWorks group.
Corresponds to Group > Profile > Profile in the BroadWorks CommPortal.

Note that BroadWorks unfortunately omits the "-" in the callingLineIdPhoneNumber. At this time
the BroadWorks value will be passed through unaltered in the response.

The following properties are omitted from the response if they have no value set on the group in BroadWorks:

* groupName
* callingLineIdName
* callingLineIdPhoneNumber
* callingLineIdDisplayPhoneNumber
* locationDialingCode
* contact
* address
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/groups/Example%20Com%20-%20North"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "defaultDomain": "r19.leonidsystems.com",
    "userLimit": 6,
    "userCount": 4,
    "groupName": "exampleCom North",
    "callingLineIdName": "ExampleCOM North",
    "callingLineIdPhoneNumber" : "+15552112700",
    "callingLineIdDisplayPhoneNumber" : "5552112700",
    "timeZone": "America/St_Johns",
    "timeZoneDisplayName": "(GMT-03:30) (Canada) Newfoundland",
    "locationDialingCode": "415",
    "contact": {
        "contactName": "Billy",
        "contactNumber": "Bishop",
        "contactEmail": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}

Create a new Group.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups
> Content-Type: application/json
{
    "groupId" : "Example Com - North",
    "defaultDomain": "r19.leonidsystems.com",
    "userLimit": 6,
    "groupName": "exampleCom North",
    "callingLineIdName": "ExampleCOM North",
    "timeZone": "America/St_Johns",
    "locationDialingCode": "415",
    "contact": {
        "contactName": "Billy",
        "contactNumber": "Bishop",
        "contactEmail": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/{+serviceProviderId}/groups/Example%20Com%20-%20North
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4266",
    "externalErrorSummary" : "[Error 4266] Domain does not exist or is not available for assignment/unassignment: r19.leonidsystems.com",
    "ThexternalErrorDetail" : "[Error 4266] Domain does not exist or is not available for assignment/unassignment: r19.leonidsystems.com"
}

Modify some or all editable properties of a BroadWorks group.
Corresponds to Group > Profile > Profile in the BroadWorks CommPortal.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
> Content-Type: application/json
{
    "defaultDomain": "r19.leonidsystems.com",
    "userLimit": 6,
    "groupName": "exampleCom North",
    "callingLineIdName": "ExampleCOM North",
    "callingLineIdPhoneNumber" : "+1-5553112700",
    "timeZone": "America/St_Johns",
    "locationDialingCode": "415",
    "contact": {
        "contactName": "Billy",
        "contactNumber": "Bishop",
        "contactEmail": "billy@example.com"
    },
    "address": {
        "addressLine1": "415 Sixth Ave",
        "addressLine2": "Suite 102",
        "city": "North Seventh",
        "stateOrProvince": "Alabama",
        "zipOrPostalCode": "50415",
        "country": "USA"
    }
}
< 204
< Transaction-Id: 1380080943120

Delete a Group

DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
< 204
< Transaction-Id: 1380080943120

Retrieve the password rules for a group in BroadWorks.
Corresponds to Group > Utilities > Password Rules in the BroadWorks CommPortal.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/password-rules
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/groups/Example%20Com%20-%20North/password-rules"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "disallowUserId": false,
    "disallowOldPassword": false,
    "disallowReversedOldPassword": false,
    "restrictMinDigits": false,
    "minDigits": 1,
    "restrictMinUpperCaseLetters": false,
    "minUpperCaseLetters": 1,
    "restrictMinLowerCaseLetters": false,
    "minLowerCaseLetters": 1,
    "restrictMinNonAlphanumericCharacters": false,
    "minNonAlphanumericCharacters": 1,
    "minLength": 6,
    "maxFailedLoginAttempts": 5,
    "passwordExpiresDays": 30,
    "sendLoginDisabledNotifyEmail": false,
    "disallowRulesModification": false,
    "disallowPreviousPasswords": false,
    "numberOfPreviousPasswords": 1
}


Retrieve the extension length settings for a group in BroadWorks.
Corresponds to Group > Utilities > Extension Dialing in the BroadWorks CommPortal.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/groups/Example%20Com%20-%20North/extension-length"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "minExtensionLength": 2,
    "maxExtensionLength": 6,
    "defaultExtensionLength": 4
}


Modify the extension length settings for a group in BroadWorks.
Corresponds to Group > Utilities > Extension Dialing in the BroadWorks CommPortal.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
> Content-Type: application/json
{
    "minExtensionLength": 3,
    "maxExtensionLength": 6,
    "defaultExtensionLength": 4
}
< 204
< Transaction-Id: 1380080943120


Retrieve the Group's assigned domains, including it's default domain.

Note the "domains" property, if present, will always be an array (even if it has only one element)  .
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/groups/Example%20Com%20-%20North/domains"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "groupDefaultDomain" : "example.com",
    "domains" : [
        "another.example.com",
        "last.example.com"
    ]
}

Assign a new domain to the Group.

Note that the 424 example is just one example of a possible BroadWorks error.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains
> Content-Type: application/json
{
    "domain" : "example"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/{+serviceProviderId}/groups/{+groupId}/domains/example
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4266",
    "externalErrorSummary" : "[Error 4266] Domain does not exist or is not available for assignment/unassignment: example",
    "ThexternalErrorDetail" : "[Error 4266] Domain does not exist or is not available for assignment/unassignment: example"
}

Unassign a Group domain.

This request makes no attempt to check if the domain actually exists in the Group,
nor does it check to see if the domain is allowed to be deleted.
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains/{+domain}
< 204
< Transaction-Id: 1380080943120

Get group-level Feature Access Codes settings
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/feature-access-codes
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/service-providers/Example%20Com/groups/Example%20Com%20-%20North/feature-access-codes"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "useFeatureAccessCodeLevel": "Service Provider",
    "featureAccessCode": [
        {
            "featureAccessCodeName": "Direct Voice Mail Transfer",
            "mainCode": "*55",
            "alternateCode": "*65"
        },
        {
            "featureAccessCodeName": "Call Forwarding Not Reachable Deactivation",
            "mainCode": "*95",
            "alternateCode": "*66"
        },
        {
            "featureAccessCodeName": "Call Bridge",
            "mainCode": "*15",
            "alternateCode": "*67"
        }
    ],
    "serviceProviderId": "Example Com",
    "groupId": "Example Com - North",
    "ne_id": "1"
}

Update group-level Feature Access Codes settings
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/feature-access-codes
> Content-Type: application/json
{
    "useFeatureAccessCodeLevel": "Service Provider",
    "featureAccessCode": [
        {
            "featureAccessCodeName": "Direct Voice Mail Transfer",
            "mainCode": "*55",
            "alternateCode": "*65"
        },
        {
            "featureAccessCodeName": "Call Forwarding Not Reachable Deactivation",
            "mainCode": "*95",
            "alternateCode": "*66"
        },
        {
            "featureAccessCodeName": "Call Bridge",
            "mainCode": "*15",
            "alternateCode": "*67"
        }
    ]
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Groups - Phone Numbers

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to BroadWorks phone number (TN) resources at the Group level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Assign a single phone number (TN) to a Group.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers
> Content-Type: application/json
{
    "phoneNumber" : "+1-2005553001"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/exampleCom/groups/exampleComNorth/phone-numbers/%2B1-2005553001


Check existence of an individual phone number in a Group.
HEAD /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120


Retrieve an individual phone number from a Group.

The embedded "ls:broadworks-users" resource is included only when the phone number is assigned to a user.

** NOT IMPLEMENTED; note link relation may be wrong, distinguish between utility-level and entity-level broadworks-users**
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/phone-numbers/%2B1-2005551212"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "_embedded" : {
        "ls:broadworks-users" : [
            {
                "_links" : {
                    "self" : {
                        "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/users/2005553001%40example.com"
                    }
                },
                "userId" : "2005553001@example.com",
                "lastName" : "Smith",
                "firstName" : "John",
                "extension" : "3001",
                "email" : "jsmith@example.com",
                "userType" : "Normal"
            }
        ]
    },
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "phoneNumber" : "+1-2005551212",
    "department" : "Sales",
    "activated" : true
}


Unassign a phone number from a Group.

This request makes no attempt to check if the TN is actually assigned on the Group,
nor does it check to see if the TN allowed to be deleted. In future we may choose to use
GET /broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber} to
first check for existence and verify that the TN is allowed to be deleted; in which case we could return
404 if the TN isn't assigned on the Group, or another 4xx if it's assigned but not allowed to be deleted
(e.g. if it's assigned to a (v)User).
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
< 204
< Transaction-Id: 1380080943120

Activates one or more phone numbers and/or ranges of phone numbers in a BroadWorks Group.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/activate
> Content-Type: application/json
{
    "phoneNumber": [
        "+1-5553101001",
        "+1-5553101002",
        "+1-2225557777"
    ],
    "dnRange": [
        {
            "minPhoneNumber": "+1-5553101002",
            "maxPhoneNumber": "+1-5553101003"
        },
        {
            "minPhoneNumber": "+1-5553102000",
            "maxPhoneNumber": "+1-5553102010"
        }
    ]
}
< 204
< Transaction-Id: 1380080943120

Deactivates one or more phone numbers and/or ranges of phone numbers in a BroadWorks Group.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/deactivate
> Content-Type: application/json
{
    "phoneNumber": [
        "+1-5553101001",
        "+1-5553101002",
        "+1-2225557777"
    ],
    "dnRange": [
        {
            "minPhoneNumber": "+1-5553101002",
            "maxPhoneNumber": "+1-5553101003"
        },
        {
            "minPhoneNumber": "+1-5553102000",
            "maxPhoneNumber": "+1-5553102010"
        }
    ]
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Groups - Services

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to services (authorizations, service packs) at the Group level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve the Group's service authorization detail.

*In the current implementation, some properties can be misleading, please note:*

* *When "Limited" is "Unlimited" or "none", then "Quantity" will be null. Otherwise, "Quantity" will be numeric.*
* *"Allocated" is a string, which may have value "Unlimited" or may have the string representation of a numeric value.*
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/services"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "servicePacksAuthorizationTable" : {
        "Admin" : {
            "Service Pack Name" : "Admin",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Limited",
            "Allocated" : 10,
            "Allowed" : "Unlimited",
            "Usage" : 0,
            "Description" : null
        },
        "Standard" : {
            "Service Pack Name" : "Standard",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Unlimited",
            "Allocated" : null,
            "Allowed" : "Unlimited",
            "Usage" : 5,
            "Description" : null
        }
    },
    "groupServicesAuthorizationTable": {
        "Account/Authorization Codes": {
            "Service Name": "Account/Authorization Codes",
            "Authorized": true,
            "Assigned": false,
            "Limited": "none",
            "Quantity": null,
            "Usage": "1",
            "Licensed": true,
            "Allowed": "Unlimited"
        },
        "Auto Attendant": {
            "Service Name": "Auto Attendant",
            "Authorized": true,
            "Assigned": true,
            "Limited": "Limited",
            "Quantity": 10,
            "Usage": 0,
            "Licensed": true,
            "Allowed": 20
        },
        "etc" : "truncated for brevity"
    },
    "userServicesAuthorizationTable": {
        "3G/4G Continuity" : {
            "Service Name" : "3G/4G Continuity",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Unlimited",
            "Quantity" : null,
            "Usage" : 1,
            "Licensed" : false,
            "Allowed" : "Unlimited",
            "User Assignable" : true,
            "Group Service Assignable": true
        },
        "Advice Of Charge" : {
            "Service Name" : "Advice Of Charge",
            "Authorized" : true,
            "Assigned" : false,
            "Limited" : "Limited",
            "Quantity" : 5,
            "Usage" : 2,
            "Licensed" : true,
            "Allowed" : "Unlimited",
            "User Assignable" : true,
            "Group Service Assignable": true
        },
        "etc" : "truncated for brevity"
    }
}

Update the Group's service authorizations. Each of servicePacksAuthorizationTable, groupServicesAuthorizationTable, and
userServicesAuthorizationTable may contain zero or more entries (or be omitted entirely). Invalid combinations
(for example, Authorized=false with Limited=Unlimited) may result in an 500 Internal Server Error
or a 400 Bad Request, depending on the response from the BroadWorks Utility Service.

PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services
> Content-Type: application/json
{
    "servicePacksAuthorizationTable" : {
        "Admin" : {
            "Authorized" : true,
            "Limited" : "Unlimited"
        },
        "Standard" : {
            "Authorized" : true,
            "Limited" : "Limited",
            "Allocated" : 10
        }
    },
    "groupServicesAuthorizationTable": {
        "Auto Attendant": {
            "Authorized": false
        },
        "Group Paging": {
            "Authorized": true,
            "Limited": "Unlimited"
        },
        "Hunt Group": {
            "Authorized": true,
            "Limited": "Limited",
            "Quantity": 20
        }
    },
    "userServicesAuthorizationTable": {
        "Remote Office": {
            "Authorized": false
        },
        "Authentication": {
            "Authorized": true,
            "Limited": "Unlimited"
        },
        "Call Waiting" : {
            "Authorized": true,
            "Limited": "Limited",
            "Quantity": 20
        }
    }
}
< 204
< Transaction-Id: 1380080943120

Assign Group service(s) on Group <br />
Note: Assigning multiple services is not an atomic operation in BroadWorks.
If some service(s) in the specified list cannot be assigned to group, BroadWorks does not rollback services from the same request that were assigned successfully.
If at least one service has failed during assignment, failure response is returned, however this does not mean no services were assigned.

POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/assignServices
> Content-Type: application/json
{
    "serviceName" : [
        "Auto Attendant",
      	"Hunt Group"
    ]
}
< 204
< Transaction-Id: 1380080943120

Unassign Group service(s) from Group <br />
Note: Unassigning multiple services is not an atomic operation in BroadWorks.
If some service(s) in the specified list cannot be unassigned from group, BroadWorks does not rollback services from the same request that were unassigned successfully.
If at least one service has failed during unassignment, failure response is returned, however this does not mean no services were unassigned.

POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/unassignServices
> Content-Type: application/json
{
    "serviceName" : [
        "Auto Attendant",
      	"Hunt Group"
    ]
}
< 204
< Transaction-Id: 1380080943120

Retrieve group-level settings of Third-Party Voice Mail user service
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/services/Third-Party%20Voice%20Mail%20Support"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "isActive": true,
    "groupServer": "+1-2005553001"
}

Update group-level settings of Third-Party Voice Mail user service
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
> Content-Type: application/json
{
    "isActive": true,
    "groupServer": "+1-2005553001"
}
< 204
< Transaction-Id: 1380080943120

Retrieve group-level settings of Voice Portal service
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/services/Voice%20Portal"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "serviceUserId": "170630991_104585901_VMR@exampledomain",
    "serviceInstanceProfile": {
        "name": "Voice Portal",
        "callingLineIdLastName": "Voice Portal",
        "callingLineIdFirstName": "Voice Portal",
        "hiraganaLastName": "Voice Portal",
        "hiraganaFirstName": "Voice Portal",
        "phoneNumber": "2005553001",
        "extension": "2456",
        "countryCode": "USA",
        "nationalPrefix": "USA",
        "department": {
            "serviceProviderId": "Example Com",
            "groupId": "Example Com - North",
            "name": "dep"
        },
        "language": "English",
        "timeZone": "America/New_York",
        "timeZoneDisplayName": "(GMT-05:00) (US) Eastern Time",
        "alias": "test@example.com",
        "publicUserIdentity": "test2@example.com",
        "callingLineIdPhoneNumber": "2005553002"
    },
    "isActive": true,
    "enableExtendedScope": false,
    "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": false,
    "useVoicePortalWizard": true,
    "voicePortalExternalRoutingScope": "System",
    "useExternalRouting": false,
    "externalRoutingAddress": "test3@example.com",
    "homeZoneName": "exampleHomeZone",
    "networkClassOfService": "exampleNCoS"
}

Update group-level settings of Voice Portal group service
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
> Content-Type: application/json
{
    "serviceInstanceProfile": {
        "name": "Voice Portal",
        "callingLineIdLastName": "Voice Portal",
        "callingLineIdFirstName": "Voice Portal",
        "hiraganaLastName": "Voice Portal",
        "hiraganaFirstName": "Voice Portal",
        "phoneNumber": "2005553001",
        "extension": "2456",
        "password": "example",
        "department": {
            "serviceProviderId": "Example Com",
            "groupId": "Example Com - North",
            "name": "dep"
        },
        "language": "English",
        "timeZone": "America/New_York",
        "timeZoneDisplayName": "(GMT-05:00) (US) Eastern Time",
        "sipAliasList": {
          	"sipAlias" : [ "test@example.com" ]
        },
        "publicUserIdentity": "test2@example.com",
        "callingLineIdPhoneNumber": "2005553002"
    },
    "isActive": true,
    "enableExtendedScope": false,
    "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": false,
    "useVoicePortalWizard": true,
    "voicePortalExternalRoutingScope": "System",
    "useExternalRouting": false,
    "externalRoutingAddress": "test3@example.com",
    "homeZoneName": "exampleHomeZone",
    "networkClassOfService": "exampleNCoS"
}
< 204
< Transaction-Id: 1380080943120

Retrieve group-level settings of Speed Dial 100 service
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Speed%20Dial%20100
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links" : {
        "self" : {
            "href" : "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/services/Speed%20Dial%20100"
        }
    },
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
    "ne_id" : "1",
    "serviceProviderId" : "Example Com",
    "groupId" : "Example Com - North",
    "prefix": "#"
}

Update group-level settings of Speed Dial 100 service
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Speed%20Dial%20100
> Content-Type: application/json
{
    "prefix": "#"
}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Groups - Trunking Call Capacity

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to Trunking Call Capacity settings, Max Active Calls and Bursting Max Active Calls, at the Group level.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve Trunking Call Capacity settings for a Group.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunking-call-capacity
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/trunking-call-capacity"
        }
    },
    "maxActiveCalls": 0,
    "maxAvailableActiveCalls": {
        "quantity": 4
    },
    "burstingMaxActiveCalls": {
        "quantity": 0
    },
    "burstingMaxAvailableActiveCalls": {
        "quantity": 3
    },
    "serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
    "ne_id": "asp1_r21",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ],
}
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4152",
    "externalErrorSummary": "[Error 4152] Group not found: Example Com:Bogus Group",
    "externalErrorDetail": "[Error 4152] Group not found: Example Com:Bogus Group"
}

Update the Trunking Call Capacity settings to Group.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunking-call-capacity
> Content-Type: application/json
{
	"maxActiveCalls": 10,
    "burstingMaxActiveCalls": {
      	"unlimited": true
        "quantity": 20
    }
}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4152",
    "externalErrorSummary": "[Error 4152] Group not found: Example Com:Bogus Group",
    "externalErrorDetail": "[Error 4152] Group not found: Example Com:Bogus Group"
}

--
BroadWorks Groups - Trunk Groups

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to Group Trunk Groups.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Retrieve Trunk Groups list from a Group.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups"
        }
    },
    "trunkGroupTable": {
        "6502342177": {
            "Name": "6502342177",
            "Department": "",
            "Device Name": "TrunkGroup_2177",
            "Device Level": "Group",
            "Group Id": "Example Com - North"
        }
    },
    "serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
    "ne_id": "asp1_r21",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4152",
    "externalErrorSummary": "[Error 4152] Group not found: Example Com:Bogus Group",
    "externalErrorDetail": "[Error 4152] Group not found: Example Com:Bogus Group"
}

Create a Trunk Group.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups
> Content-Type: application/json
{
	"name": "Trunk Group",
	"pilotUser": {
		"userId": "trunkgroupuser@example.com",
		"lastName": "ln",
		"firstName": "fn",
		"callingLineIdLastName": "clidln",
		"callingLineIdFirstName": "clidfn",
		"hiraganaLastName": "hln",
		"hiraganaFirstName": "hfn",
		"password": "CL@r1soft",
      	"department": {
          	"serviceProviderId": "Example Com",
          	"groupId": "Example Com - North",
          	"name": "Sales"
        },
		"language": "English",
		"timeZone": "America/New_York",
		"linePort": "lineport@example.com",
		"contact": [
          	"C1",
            "C2",
            "C3",
            "C4",
            "C5"
        ]
	},
	"department": {
        "serviceProviderId": "Example Com",
        "groupId": "Example Com - North",
        "name": "Sales"
    },
	"accessDevice": {
		"deviceLevel": "Group",
		"deviceName": "AdtranTest"
	},
	"maxActiveCalls": 10,
	"maxIncomingCalls": 5,
	"maxOutgoingCalls": 5,
	"enableBursting": true,
	"burstingMaxActiveCalls": 10,
	"burstingMaxIncomingCalls": 5,
	"burstingMaxOutgoingCalls": 5,
	"capacityExceededAction": "Forward",
	"capacityExceededForwardAddress": "cefa@test.com",
	"capacityExceededRerouteTrunkGroupKey": {
		"serviceProviderId": "Example Com",
        "groupId": "Example Com - North",
		"name": "6123456789"
	},
	"capacityExceededTrapInitialCalls": 5,
	"capacityExceededTrapOffsetCalls": 5,
	"unreachableDestinationAction": "Forward",
	"unreachableDestinationForwardAddress": "udfa@test.com",
	"unreachableDestinationRerouteTrunkGroupKey": {
		"serviceProviderId": "Example Com",
        "groupId": "Example Com - North",
		"name": "6123456789"
	},
	"invitationTimeout": 10,
	"requireAuthentication": true,
	"sipAuthenticationUserName": "trunkGroupTest",
	"sipAuthenticationPassword": "CL@r1soft",
	"hostedUserId": [
        "5500000001@example.com",
        "5500000002@example.com"
	],
	"trunkGroupIdentity": "TrunkGroupTest@example.com",
	"otgDtgIdentity": "otgDtgIdentityTest",
	"allowTerminationToTrunkGroupIdentity": true,
	"allowTerminationToDtgIdentity": true,
	"includeTrunkGroupIdentity": true,
	"includeDtgIdentity": true,
	"includeTrunkGroupIdentityForNetworkCalls": true,
	"includeOtgIdentityForNetworkCalls": false,
	"enableNetworkAddressIdentity": false,
	"allowUnscreenedCalls": true,
	"allowUnscreenedEmergencyCalls": true,
	"pilotUserCallingLineIdentityPolicy": "All Originating Calls",
	"pilotUserChargeNumberPolicy": "All Originating Calls",
	"callForwardingAlwaysAction": "Forward",
	"callForwardingAlwaysForwardAddress": "cfafa@test.com",
	"callForwardingAlwaysRerouteTrunkGroupKey": {
		"serviceProviderId": "Example Com",
        "groupId": "Example Com - North",
		"name": "6123456789"
	},
	"peeringDomain": "example.com",
	"routeToPeeringDomain": true,
	"prefixEnabled": false,
	"prefix": "1234",
	"statefulReroutingEnabled": true,
	"sendContinuousOptionsMessage": true,
	"continuousOptionsSendingIntervalSeconds": 30,
	"failureOptionsSendingIntervalSeconds": 30,
	"failureThresholdCounter": 5,
	"successThresholdCounter": 5,
	"inviteFailureThresholdCounter": 5,
	"inviteFailureThresholdWindowSeconds": 30,
	"pilotUserCallingLineAssertedIdentityPolicy": "All Originating Calls",
	"useSystemCallingLineAssertedIdentityPolicy": true
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/Trunk%20Group
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/Trunk%20Group"
        }
    },
    "name": "Trunk Group",
    "serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
    "ne_id": "asp1_r21",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Retrieve a Trunk Group.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/trunk-groups/Trunk%20Group"
        }
    },
	"maxActiveCalls": 1,
    "enableBursting": false,
    "capacityExceededTrapInitialCalls": 5,
    "capacityExceededTrapOffsetCalls": 5,
    "invitationTimeout": 10,
    "requireAuthentication": false,
    "hostedUserTable": [],
    "allowTerminationToTrunkGroupIdentity": true,
    "allowTerminationToDtgIdentity": true,
    "includeTrunkGroupIdentity": true,
    "includeDtgIdentity": true,
    "includeTrunkGroupIdentityForNetworkCalls": true,
    "includeOtgIdentityForNetworkCalls": false,
    "enableNetworkAddressIdentity": false,
    "allowUnscreenedCalls": true,
    "allowUnscreenedEmergencyCalls": true,
    "pilotUserChargeNumberPolicy": "All Originating Calls",
    "routeToPeeringDomain": true,
    "prefixEnabled": false,
    "statefulReroutingEnabled": true,
    "sendContinuousOptionsMessage": true,
    "continuousOptionsSendingIntervalSeconds": 30,
    "failureOptionsSendingIntervalSeconds": 30,
    "failureThresholdCounter": 5,
    "successThresholdCounter": 5,
    "inviteFailureThresholdCounter": 5,
    "inviteFailureThresholdWindowSeconds": 30,
    "trunkGroupState": "Available",
    "pilotUserCallingLineAssertedIdentityPolicy": "All Originating Calls",
    "useSystemCallingLineAssertedIdentityPolicy": true,
    "pilotUserCallingLineIdentityPolicy": "All Originating Calls",    
    "serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
	"name": "Trunk Group",
    "ne_id": "asp1_r21",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Modify a Trunk Group.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
> Content-Type: application/json
{
	"newName": "New Trunk Group",
	"pilotUserId": "TrunkGroupTestUser@example.com",
	"department": {
        "serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
        "name": "dep1"
    },
	"accessDevice": {
		"deviceLevel": "Group",
		"deviceName": "AdtranTest"
	},
	"maxActiveCalls": 10,
	"maxIncomingCalls": 5,
	"maxOutgoingCalls": 5,
	"enableBursting": true,
	"burstingMaxActiveCalls": 10,
	"burstingMaxIncomingCalls": 5,
	"burstingMaxOutgoingCalls": 5,
	"capacityExceededAction": "Forward",
	"capacityExceededForwardAddress": "cefa@test.com",
	"capacityExceededRerouteTrunkGroupKey": {
		"serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
		"name": "6123456789"
	},
	"capacityExceededTrapInitialCalls": 5,
	"capacityExceededTrapOffsetCalls": 5,
	"unreachableDestinationAction": "Forward",
	"unreachableDestinationForwardAddress": "udfa@test.com",
	"unreachableDestinationRerouteTrunkGroupKey": {
		"serviceProviderId": "Example Com",
		"groupId" : "Example Com - North",
		"name": "6123456789"
	},
	"invitationTimeout": 10,
	"requireAuthentication": true,
	"sipAuthenticationUserName": "newtrunkGroup",
	"sipAuthenticationPassword": "pass@#!",
  	"hostedUserIdList": {
      	"userId" :[
            "5500000001@example.com",
            "5500000002@example.com"
		]
    },
	"trunkGroupIdentity": "TrunkGroupTest@r21.clarisoft.com",
	"otgDtgIdentity": "otgDtgIdentityTest",
	"allowTerminationToTrunkGroupIdentity": true,
	"allowTerminationToDtgIdentity": true,
	"includeTrunkGroupIdentity": true,
	"includeDtgIdentity": true,
	"includeTrunkGroupIdentityForNetworkCalls": true,
	"includeOtgIdentityForNetworkCalls": false,
	"enableNetworkAddressIdentity": false,
	"allowUnscreenedCalls": true,
	"allowUnscreenedEmergencyCalls": true,
	"pilotUserCallingLineIdentityPolicy": "All Originating Calls",
	"pilotUserChargeNumberPolicy": "All Originating Calls",
	"callForwardingAlwaysAction": "Forward",
	"callForwardingAlwaysForwardAddress": "cfafa@test.com",
	"callForwardingAlwaysRerouteTrunkGroupKey": {
		"serviceProviderId": "ATEntTest",
		"groupId": "ATGroupTest",
		"name": "6123456789"
	},
	"peeringDomain": "example.com",
	"routeToPeeringDomain": true,
	"prefixEnabled": false,
	"prefix": "1234",
	"statefulReroutingEnabled": true,
	"sendContinuousOptionsMessage": true,
	"continuousOptionsSendingIntervalSeconds": 30,
	"failureOptionsSendingIntervalSeconds": 30,
	"failureThresholdCounter": 5,
	"successThresholdCounter": 5,
	"inviteFailureThresholdCounter": 5,
	"inviteFailureThresholdWindowSeconds": 30,
	"pilotUserCallingLineAssertedIdentityPolicy": "All Originating Calls",
	"useSystemCallingLineAssertedIdentityPolicy": true
}
< 204
< Transaction-Id: 1380080943120

Delete a Trunk Group.
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/trunk-groups/{+trunkGroupName}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Groups - Devices

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to Group Devices.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Create a device.
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/access-devices
> Content-Type: application/json
{
	"deviceName": "AccessDeviceTest",
    "deviceType": "Polycom Soundpoint IP 500",
    "protocol": "SIP 2.0",
    "netAddress": "AddressTest",
    "port": 2000,
    "outboundProxyServerNetAddress": "opAddressTest",
    "stunServerNetAddress": "ssAddressTest",
    "macAddress": "A0B1C2d3e4F6",
    "serialNumber": "sNumberTest",
    "description": "description",
    "physicalLocation": "location",
    "transportProtocol": "TCP",    
    "useCustomUserNamePassword": true,
    "accessDeviceCredentials": {
        "userName": "AccessDeviceUserName",
        "password": "pass#$g56"
    }
}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/access-devices/AccessDeviceTest"
        }
    },
    "ne_id": "asp1_r21",
	"serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
    "deviceName": "AccessDeviceTest",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Retrieve profile settings of a BroadWorks Group device.
GET /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/access-devices/{+deviceName}
< 201
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/access-devices/AccessDeviceTest"
        }
    },
	"deviceType": "Polycom Soundpoint IP 500",
    "protocol": "SIP 2.0",
    "netAddress": "addresstest",
    "port": 2000,
    "outboundProxyServerNetAddress": "opAddressTest",
    "stunServerNetAddress": "ssAddressTest",
    "macAddress": "A0B1C2D3E4F6",
    "serialNumber": "sNumberTest",
    "description": "description",
    "numberOfPorts": {
        "quantity": 3
    },
    "numberOfAssignedPorts": 0,
    "status": "Online",
    "configurationMode": "Default",
    "physicalLocation": "location",
    "transportProtocol": "TCP",
    "useCustomUserNamePassword": true,
    "userName": "AccessDeviceUserName",
    "ne_id": "asp1_r21",
	"serviceProviderId": "Example Com",
    "groupId" : "Example Com - North",
    "deviceName": "AccessDeviceTest",
    "curies" : [
        {
            "name" : "ls",
            "href" : "http://loki3services.apiary.io/loki-services/rels/{rel}",
            "templated" : true
        }
    ]
}

Update the profile settings of an device.
PUT /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/access-devices/{+deviceName}
> Content-Type: application/json
{
	"protocol": "SIP 2.0",
    "netAddress": "AddressTest",
    "port": 2001,
    "outboundProxyServerNetAddress": "opAddressTest",
    "stunServerNetAddress": "ssAddressTest",
    "macAddress": "A0B1C2d3e4F9",
    "serialNumber": "sNumberTest",
    "description": "description",
  	"configurationMode": "Default",
  	"configurationFile": {
      	"sourceFileName": "fileName"
    },
    "physicalLocation": "location",
    "transportProtocol": "TCP",
    "amobilityManagerProvisioningURL": "mmpurl",
    "amobilityManagerProvisioningUserName": "mmpUser",
    "amobilityManagerProvisioningPassword": "passwew#$",
    "amobilityManagerDefaultOriginatingServiceKey": "100",
    "amobilityManagerDefaultTerminatingServiceKey": "100",
    "useCustomUserNamePassword": true,
    "accessDeviceCredentials": {
        "userName": "AccessDeviceUserName",
        "password": "CL@r1soft"
    }
}
< 204
< Transaction-Id: 1380080943120

Deletes a Group Device from BroadWorks.
DELETE /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/access-devices/{+deviceName}
< 204
< Transaction-Id: 1380080943120

--
BroadWorks Users - General

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides general internal services related to BroadWorks users.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Create a BroadWorks User.

Note that the request body includes both a device and a trunk group, for example purposes.
Actual requests should include only one or the other (or neither, for users with no device).
POST /network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/users
> Content-Type: application/json
{
    "userId": "2005553001@example.com",
    "phoneNumber": "+1-2005553001",
    "CLID": "+1-2005553001",
    "extension": "3001",
    "lastName": "Doe",
    "firstName": "Jane",
    "callingLineIdLastName": "Smith",
    "callingLineIdFirstName": "John",
    "email": "jdoe@another.example.com",
    "timeZone": "America/New_York",
    "language": "English",
    "linePort" : "2005553001@sip.example.com",
    "device" : {
        "name" : "iad_exampleCom001",
        "level" : "Group"
    }
    "trunkGroupName" : "exampleTrunk"
    "password" : "Fg3t&4s!D0"
}
< 201
< Transaction-Id: 1380080943120
< Location: http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/serviceProviders/Example%20Com/groups/Example%20Com%20-%20North/users/2005553001%40example.com

Retrieve a BroadWorks User.

GET /network-elements/broadworks/{+ne_id}/users/{+userId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/1/users/JohnDoe"
        }
    },
    "serviceProviderId": "EnterpriseID",
    "groupId": "GroupID",
    "lastName": "JohnDoe",
    "firstName": "JohnDoe",
    "callingLineIdLastName": "JohnDoe",
    "callingLineIdFirstName": "JohnDoe",
    "hiraganaLastName": "JohnDoe",
    "hiraganaFirstName": "JohnDoe",
    "phoneNumber": "+1-2147483642",
    "extension": "642",
    "language": "English",
    "timeZone": "America/Winnipeg",
    "timeZoneDisplayName": "(GMT-06:00) (Canada) Central Time",
    "defaultAlias": "JohnDoe@r19.leonidsystems.com",
    "accessDeviceEndpoint": {
        "accessDevice": {
            "deviceLevel": "Group",
            "deviceName": "0002"
        },
        "linePort": "2147483642@r19.leonidsystems.com",
        "staticRegistrationCapable": false,
        "useDomain": true
    },
    "countryCode": "1",
    "userId": "JohnDoe",
    "ne_id": "1",
    "curies": [
        {
            "name": "ls",
            "href": "http://loki3services.apiary.io/loki/rels/{rel}",
            "templated": true
        }
    ]
}


Delete a BroadWorks User
DELETE /network-elements/broadworks/{+ne_id}/users/{+userId}
< 204
< Transaction-Id: 1380080943120
+++++
< 404
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4008",
    "externalErrorSummary": "[Error 4008] User not found: 6502342109",
    "externalErrorDetail": "[Error 4008] User not found: 6502342109"
}


--
BroadWorks Users - Services

Network Element: BroadWorks (initially only supports XSP or AS resources)

Provides all internal services related to services on BroadWorks users.

General note: any of these requests may return 424 Method Failure in the event of an error response from BroadWorks,
or 400 Bad Request for validation failure on the body, uri query parameters, or uri template variables, or 500 Internal
Server Error for unhandled errors. However, for brevity, examples of these responses are only included for some
resources/methods below.
--

Update service assignments for a user. The input specifies the desired status (assigned or un-assigned) for the services
and/or service packs inlcluded in the input.

Thus:

* Services/service packs in the list which are not currently assigned to the user will be assigned.
* Services/service packs not in the list, but currently assigned to the user, wil be un-assigned.
* Services/service packs in the list which are already assigned to the user will not be updated (they will be untouched;
they will **not** be un-assigned and re-assigned).
* Services/service packs not in the list will not be updated (they will be untouched; they will **not** be un-assigned).

Assigning a service which is already assigned, or un-assigning a service which is not currently assigned, is not considered to be an error.

** future: techinically this should be a PATCH, and the PUT should completely replace the set of assignments (un-assign
everything except those that are included here with Assigned=true). May make this change, or, add a ?parameter here to.
As it stands, to update a user to ensure they have only 1 service assigned, you'd have to list **every** other BWKS service
with "Assigned=false" here.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services
> Content-Type: application/json
{
    "servicePacksAssignmentTable" : {
        "Admin" : {
            "Assigned" : true
        },
        "Standard" : {
            "Assigned" : false
        }
    },
    "userServicesAssignmentTable": {
        "Remote Office": {
            "Assigned": false
        },
        "Authentication": {
            "Assigned": true
        },
        "Call Waiting" : {
            "Assigned": true
        }
    }
}
< 204
< Transaction-Id: 1380080943120


Update settings for Authentication service on a user.

Note: when connecting to BroadWorks as a BroadWorks user (rather than as an admin), if "password" is included then "oldPassword" is also required.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services/Authentication
> Content-Type: application/json
{
    "username" : "2005553001",
    "oldPassword" : "ch4ngeM3",
    "password" : "230A4u$#%f"
}
< 204
< Transaction-Id: 1380080943120


Update settings for Charge Number service on a user.

** FIXME: document that phoneNumber can be null, which means explicitly set the user's Charge Number TN to be empty in BWKS, regardless of its current value.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services/Charge%20Number
> Content-Type: application/json
{
    "phoneNumber" : "+1-2005554321",
    "useChargeNumberForEnhancedTranslations" : false,
    "sendChargeNumberToNetwork" : true
}
< 204
< Transaction-Id: 1380080943120


Update settings for Third-Party Voice Mail Support (3PVM) service on a user.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services/Third-Party%20Voice%20Mail%20Support
> Content-Type: application/json
{
    "isActive" : true,
    "busyRedirectToVoiceMail" : true,
    "noAnswerRedirectToVoiceMail" : true,
    "serverSelection" : "Group Mail Server",
    "userServer" : "5553991212",
    "mailboxIdType" : "URL",
    "mailboxURL" : "5553120300@example.com",
    "noAnswerNumberOfRings" : 4,
    "alwaysRedirectToVoiceMail" : false,
    "outOfPrimaryZoneRedirectToVoiceMail" : false
}
< 204
< Transaction-Id: 1380080943120


Update settings for Call Forwarding No Answer (CFNA) service on a user.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services/Call%20Forwarding%20No%20Answer
> Content-Type: application/json
{
    "isActive" : true,
    "forwardToPhoneNumber" : "5553120301,
    "numberOfRings" : 4
}
< 204
< Transaction-Id: 1380080943120


Update settings for Call Forwarding Not Reachable (CFNR) service on a user.
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/services/Call%20Forwarding%20Not%20Reachable
> Content-Type: application/json
{
    "isActive" : true,
    "forwardToPhoneNumber" : "5553120301,
}
< 204
< Transaction-Id: 1380080943120


Retrieve a BroadWorks User's Call Processing Policies settings.
Refer to BroadWorks documentation for specifics of the properties under extensions.broadworks.

In addition to the standard error codes, this will return 404 Not Found if the user does not exist in BroadWorks.

** NOT IMPLEMENTED **
GET /network-elements/broadworks/{+ne_id}/users/{+userId}/call-processing-policy
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links, curies" : "tbd",
    "userId" : "4155551212@example.com",
    "ne_id" : "1",
    "tbd" : "request not implemented; documentation not completed"
}


Update a BroadWorks User's Call Processing Policies settings.
Refer to BroadWorks documentation for specifics of the properties under extensions.broadworks.

In addition to the standard error codes, this will return 404 Not Found if the user does not exist in BroadWorks.

Notes:

* The properties of the request inputs correspond to elements of the same name in BroadWorks OCI UserCallProcessingModifyPolicyRequestX (as of R17SP4),
with the exception of the convenience grouping objects (callingLineId, media, callLimits, incomingCallerId), which have no BroadWorks equivalent.
* The mapping is direct  no transformations are performed on the values.
* If a property is omitted in the request, the corresponding element will be omitted from the OCI request.
* If a property is present in the request that is not part of the json-schema for this request, it will be ignored.

** TODO: Add json-schema with the URI template variables (all are required) and the list of body properties (all are optional) and data type for each **
PUT /network-elements/broadworks/{+ne_id}/users/{+userId}/call-processing-policy
> Content-Type: application/json
{
    "callingLineId": {
        "useUserCLIDSetting": false,
        "clidPolicy": "Use DN",
        "emergencyClidPolicy": "Use DN",
        "allowAlternateNumbersForRedirectingIdentity": true,
        "useGroupName": false,
        "allowConfigurableCLIDForRedirectingIdentity": true,
        "blockCallingNameForExternalCalls": false
    },
    "media": {
        "useUserMediaSetting": false,
        "mediaPolicySelection": "No Restrictions",
        "supportedMediaSetName": "Example"
    },
    "callLimits": {
        "useUserCallLimitsSetting": false,
        "useMaxSimultaneousCalls": false,
        "maxSimultaneousCalls": 10,
        "useMaxSimultaneousVideoCalls": false,
        "maxSimultaneousVideoCalls": 5,
        "useMaxCallTimeForAnsweredCalls": false,
        "maxCallTimeForAnsweredCallsMinutes": 600,
        "useMaxCallTimeForUnansweredCalls": false,
        "maxCallTimeForUnansweredCallsMinutes": 2,
        "useMaxConcurrentRedirectedCalls": false,
        "maxConcurrentRedirectedCalls": 3,
        "useMaxFindMeFollowMeDepth": false,
        "maxFindMeFollowMeDepth": 3,
        "maxRedirectionDepth": 10,
        "useMaxConcurrentFindMeFollowMeInvocations": false,
        "maxConcurrentFindMeFollowMeInvocations": 3
    },
    "incomingCallerId": {
        "useUserDCLIDSetting": false,
        "enableDialableCallerID": false
    }
}
< 204
< Transaction-Id: 1380080943120


--
BroadWorks Utility: Open Client Interface - Provisioning (OCI-P)

Network Element: BroadWorks (initially supports only the AS or XSP)

Provides communication with the OCI API on BroadWorks network elements, including authentication, session management, and basic error handling.
--
** This request is disabled.**<br />
Process an OCI request. **Note, this request is intended to be consumed by the BroadWorks Utility Service only, and at this
time no other service should be consuming this request.**

The internal OCI request factory will convert  OCI XML response data directly into JSON data in the 200 OK response, with the exception of OCI XML elements of the "OCITable"
data type. The OCITable data will be transformed so that each row of the table is a key:value pair, where the key is the
column name and the value is the data value. This is illustrated in the example below.
POST /network-elements/broadworks/{+ne_id}/processOci
> Content-Type: application/json
{
    "command" : "ServiceProviderLanguageGetAvailableListResponse",
    "serviceProviderId" : "exampleCom"
}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "defaultLanguage": "English",
    "languageTable": [
        {
            "Language": "English",
            "Locale": "en_US",
            "Encoding": "ISO-8859-1"
        },
        {
            "Language": "French",
            "Locale": "fr_CA",
            "Encoding": "ISO-8859-1"
        }
    ]
}
+++++
< 204
< Transaction-Id: 1380080943120
+++++
< 401
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_AUTHENTICATION_ERROR",
    "externalErrorCode" : "4962",
    "externalErrorSummary" : "[Error 4962] Invalid password",
    "externalErrorDetail" : "[Error 4962] Invalid password"
}
+++++
< 403
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_FORBIDDEN",
    "externalErrorCode" : "4003",
    "externalErrorSummary" : "[Error 4003] Unauthorized request: UserGetListInGroupRequest",
    "externalErrorDetail" : "[Error 4003] Unauthorized request: UserGetListInGroupRequest"
}
+++++
< 424
< Transaction-Id: 1380080943120
< Content-Type: application/json
{
    "errorCode" : "EXTERNAL_API_ERROR",
    "externalErrorCode" : "4410",
    "externalErrorSummary" : "[Error 4410] Service is not assigned to this subscriber: Call Forwarding Not Reachable",
    "externalErrorDetail" : "[Error 4410] Service is not assigned to this subscriber: Call Forwarding Not Reachable"
}
+++++
< 500
< Transaction-Id: 1380080943120
+++++
< 502
< Transaction-Id: 1380080943120
+++++
< 504
< Transaction-Id: 1380080943120


--
BroadWorks Utility: Network Server Location API Interface

Network Element: BroadWorks Network Server

This is the means by which the BroadWorks Utility Service will expose the information available via the NS-LAPI LocateUser request.
Currently supports queries for user resources only.
--

Retrieve the location information (BroadWorks hosting network element information) for a BroadWorks resource.

##URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    <th>Notes</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center">no</td>
            <td>Equal To</td>
            <td>Full userId (including @domain) of the user to be located</td>
        </tr>
        <tr>
            <td>linePort</td>
            <td style="text-align: center">no</td>
            <td>Equal To</td>
            <td>NOT IMPLEMENTED - will be ignored if included in request</td>
        </tr>
        <tr>
            <td>phoneNumber</td>
            <td style="text-align: center">no</td>
            <td>Equal To</td>
            <td>NOT IMPLEMENTED - will be ignored if included in request</td>
        </tr>
        <tr>
            <td>groupId</td>
            <td style="text-align: center">no</td>
            <td>Equal To</td>
            <td>NOT IMPLEMENTED - will be ignored if included in request</td>
        </tr>
    </tbody>
</table>

GET /network-elements/broadworks/locations{?userId,linePort,phoneNumber,groupId}
< 200
< Transaction-Id: 1380080943120
< Content-Type: application/hal+json
{
    "_links": {
        "self": {
            "href": "http://loki3services.apiary.io/loki-services/network-elements/broadworks/locations"
        }
    },
    "ne_id": "asp1_r21",
    "userId": "6502342177@r21.clarisoft.com",
    "curies": [
        {
            "name": "ls",
            "href": "http://loki3services.apiary.io/loki/rels/{rel}",
            "templated": true
        }
    ]
}

-- JSON Schema Validations --

GET /loki-services/network-elements/broadworks/{+ne_id}/domains
{
    "requestURITemplate": {
        "title": "Retrieve System Domains request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve System Domains response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "systemDefaultDomain": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 80, 
                "pattern": "^[a-zA-Z0-9.-]+$", 
                "required": true 
            },
            "domains": {
				"type": "array",
				"required": true,
				"items": {
    				"type": "string", 
                    "minLength": 1, 
                    "maxLength": 80, 
                    "pattern": "^[a-zA-Z0-9.-]+$"
				}
			}
        }
    }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/domains
{
    "requestURITemplate": {
        "title": "Add System Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true }
        }
    },
    "requestBody": {
        "title": "Add System Domain request body schema",
        "type": "object",
        "properties": {
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/domains/{+domain}
{
    "requestURITemplate": {
        "title": "Delete System Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/languages
{
    "requestURITemplate": {
        "title": "Retrieve System Languages request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve System Languages response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "defaultLanguage": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 40,
                "required": true
            },
            "languageTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
				            "Language": { 
                                "type": "string", 
                                "minLength": 1, 
                                "maxLength": 40,
                                "required": true
                            },
                            "Locale": { 
                                "type": "string", 
                                "minLength": 1, 
                                "maxLength": 5,
                                "required": true
                            },
                            "Encoding": { 
                                "type": "string", 
                                "minLength": 1, 
                                "maxLength": 40,
                                "required": true
                            }           
				        }
					}
				}
            }
        }
    }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/time-zones
{
    "requestURITemplate": {
        "title": "Retrieve System Time-zones request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve System Time-zones response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serverTimeZone": { 
                "type": "string",
                "description": "Added in R20",
                "minLength": 1, 
                "maxLength": 127,
                "required": true 
            },
            "timeZoneTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
				            "Key": { 
                                "type": "string", 
                                "minLength": 1, 
                                "maxLength": 127,
                                "required": true
                            },
                            "Display Name": { 
                                "type": "string", 
                                "minLength": 1,
                                "required": true
                            }           
				        }
					}
				}
            }
        }
    }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "Retrieve the profile settings for an existing BroadWorks Service Provider/Enterprise request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
	"requestBody": {},
	"response": {
	    "title": "GET Service Provider, body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"isEnterprise": {
				"type": "boolean"
			},
			"useCustomRoutingProfile": {
				"type": "boolean"
			},
			"defaultDomain": {
				"type": "string",
				"minLength": 1,
				"maxLength": 80,
				"required": true
			},
			"serviceProviderName": {
				"type": "string",
				"minLength": 1,
				"maxLength": 80
			},
			"supportEmail": {
				"type": "string",
				"minLength": 1,
				"maxLength": 80
			},
			"contact": {
				"type": "object",
				"properties": {
					"contactName": {
						"type": "string",
						"minLength": 1,
						"maxLength": 30
					},
					"contactNumber": {
						"type": "string",
						"minLength": 1,
						"maxLength": 30
					},
					"contactEmail": {
						"type": "string",
						"minLength": 1,
						"maxLength": 80
					}
				}
			},
			"address": {
				"type": "object",
				"properties": {
					"addressLine1": {
						"type": "string",
						"minLength": 1,
						"maxLength": 80
					},
					"addressLine2": {
						"type": "string",
						"minLength": 1,
						"maxLength": 80
					},
					"city": {
						"type": "string",
						"minLength": 1,
						"maxLength": 50
					},
					"stateOrProvince": {
						"type": "string",
						"minLength": 1,
						"maxLength": 50
					},
					"stateOrProvinceDisplayName": {
						"type": "string",
						"minLength": 1,
						"maxLength": 50
					},
					"zipOrPostalCode": {
						"type": "string",
						"minLength": 1,
						"maxLength": 50
					},
					"country": {
						"type": "string",
						"minLength": 1,
						"maxLength": 50
					}
				}
			},
			"useServiceProviderLanguages": {
				"type": "boolean",
				"required": true
			},
			"serviceProviderId": {
				"type": "string",
				"minLength": 1,
				"maxLength": 30
			},
			"ne_id": {
				"type": "string"
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": {
							"type": "string"
						},
						"href": {
							"type": "string"
						},
						"templated": {
							"type": "boolean"
						}
					}
				}
			}
		}
	}
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers
{
    "requestURITemplate": {
        "title": "Creates a new Service Provider/Enterprise in BroadWorks request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true }
        }
    },
    "requestBody": {
        "title": "Creates a new Service Provider/Enterprise in BroadWorks request body schema",
        "type": "object",
        "properties": {
            "isEnterprise": { "type": "boolean", "required": true, "description": "Valid only when creating an enterprise. Must be omitted when creating a service provider. If present, must have value 'true'." },
            "useCustomRoutingProfile": { "type": "boolean", "required": true, "description": "Valid only when creating a service provider. Must be omitted when creating an enterprise. If present, must have value 'true'." },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true },
            "serviceProviderName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "supportEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" },
            "contact": {
                "type": "object",
                "properties": {
                    "contactName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactNumber": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvinceDisplayName": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            }
        }
    },
    "response": {
        "title": "Creates a new Service Provider/Enterprise in BroadWorks response body schema",
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			}
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "Modifies the profile settings for an existing BroadWorks Service Provider/Enterprise request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modifies the profile settings for an existing BroadWorks Service Provider/Enterprise request body schema",
        "type": "object",
        "properties": {
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$" },
            "serviceProviderName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "supportEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" },
            "contact": {
                "type": "object",
                "properties": {
                    "contactName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactNumber": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvinceDisplayName": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            },
            "useServiceProviderLanguages": { "type": "boolean", "required": true, "description": "Only available for Service Providers." }
        }
    },
    "response": { }
}


DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "Removes an existing Service Provider/Enterprise from BroadWorks",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains
{
    "requestURITemplate": {
        "title": "Retrieve Service Provider Domains request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve Service Provider Domains response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "serviceProviderDefaultDomain": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 80, 
                "pattern": "^[a-zA-Z0-9.-]+$", 
                "required": true 
            },
            "domains": {
				"type": "array",
				"required": true,
				"items": {
    				"type": "string", 
                    "minLength": 1, 
                    "maxLength": 80, 
                    "pattern": "^[a-zA-Z0-9.-]+$"
				}
			}
        }
    }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains
{
    "requestURITemplate": {
        "title": "Assign Service Provider Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Assign Service Provider Domain request body schema",
        "type": "object",
        "properties": {
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/domains/{+domain}
{
    "requestURITemplate": {
        "title": "Unassign Service Provider Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers
{
    "requestURITemplate": {
        "title": "Assign Service Provider Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Assign Service Provider Phone Number request body schema",
        "type": "object",
        "properties": {
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            }
        }
    },
    "response": { }
}

HEAD /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
{
    "requestURITemplate": {
        "title": "Check Service Provider Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            }
        }
    },
    "requestBody": { },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/phone-numbers/{+phoneNumber}
{
    "requestURITemplate": {
        "title": "Delete Service Provider Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/services
{
    "requestURITemplate": {
        "title": "Retrieve Service Provider Services Authorizations request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve Service Provider Services Authorizations response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupServicesAuthorizationTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Service Name": { "type": "string", "minLength": 1, "required": true },
                            "Authorized": { "type": "boolean", "required": true },
                            "Assigned": { "type": "boolean", "required": true },
                            "Limited": { "enum": ["Unlimited", "Limited"], "required": true },
                            "Quantity": { "type": ["null", "integer"], "required": true },
                            "Allocated": { "type": ["string", "integer"], "required": true },
                            "Licensed": { "type": "boolean", "required": true },
                            "Service Pack Allocation": { "type": ["string", "integer"], "required": true }
				        }
					}
				}
            },
            "userServicesAuthorizationTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Service Name": { "type": "string", "minLength": 1, "required": true },
                            "Authorized": { "type": "boolean", "required": true },
                            "Assigned": { "type": "boolean", "required": true },
                            "Limited": { "enum": ["Unlimited", "Limited"], "required": true },
                            "Quantity": { "type": ["null", "integer"], "required": true },
                            "Allocated": { "type": ["string", "integer"], "required": true },
                            "Licensed": { "type": "boolean", "required": true },
                            "Service Pack Allocation": { "type": ["string", "integer"], "required": true },
                            "User Assignable" : { "type": "boolean", "required": true },
                            "Service Pack Assignable": { "type": "boolean", "required": true }
				        }
					}
				}
            }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/services
{
    "requestURITemplate": {
        "title": "Modify Service Provider Services Authorizations request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Service Provider Services Authorizations request body schema",
        "properties": {
            "groupServicesAuthorizationTable": {
                "type": "object",
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Authorized": { "type": "boolean" },
                            "Limited": { "enum": ["Unlimited", "Limited"] },
                            "Quantity": { "type": "integer" }
				        }
					}
				}
            },
            "userServicesAuthorizationTable": {
                "type": "object",
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Authorized": { "type": "boolean" },
                            "Limited": { "enum": ["Unlimited", "Limited"] },
                            "Quantity": { "type": "integer" }
				        }
					}
				}
            }
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/trunking-call-capacity
{
    "requestURITemplate": {
        "title": "Retrieve Service Provider Trunking Call Capacity request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve Service Provider Trunking Call Capacity response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "maxActiveCalls": {
                "type": "object",
                "required": true,
				"properties": {
					"quantity": { "type": "integer" },
					"unlimited": { "type": "boolean" }
				}
            },
            "burstingMaxActiveCalls": {
                "type": "object",
                "required": true,
				"properties": {
					"quantity": { "type": "integer" },
					"unlimited": { "type": "boolean" }
				}
            }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/trunking-call-capacity
{
    "requestURITemplate": {
        "title": "Modify Service Provider Trunking Call Capacity request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Service Provider Trunking Call Capacity request body schema",
        "properties": {
            "maxActiveCalls": {
                "type": "object",
                "properties": {
					"quantity": { "type": "integer" },
					"unlimited": { "type": "boolean" }
				}
            },
            "burstingMaxActiveCalls": {
                "type": "object",
                "properties": {
					"quantity": { "type": "integer" },
					"unlimited": { "type": "boolean" }
				}
            }
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
{
    "requestURITemplate": {
        "title": "Retrieve Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "title": "Retrieve Group response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true },
            "userLimit": { "type": "integer", "required": true },
            "userCount": { "type": "integer", "required": true },
            "groupName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineIdName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineIdPhoneNumber" : { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            },
            "callingLineIdDisplayPhoneNumber" : { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            },
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127, "required": true },
            "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127, "required": true },
            "locationDialingCode": { "type": "string", "minLength": 1, "maxLength": 15, "pattern": "^[0-9]+$" },
            "contact": {
                "type": "object",
                "properties": {
                    "contactName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactNumber": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            }
        }
    }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups
{
    "requestURITemplate": {
        "title": "Create Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Create Group request body schema",
        "type": "object",
        "properties": {
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true },
            "userLimit": { "type": "integer", "minimum": 1, "maximum": 999999, "required": true },
            "groupName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineIdName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
            "locationDialingCode": { "type": "string", "minLength": 1, "maxLength": 15, "pattern": "^[0-9]+$" },
            "contact": {
                "type": "object",
                "properties": {
                    "contactName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactNumber": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            }
        }
    },
    "response": { }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
{
    "requestURITemplate": {
        "title": "Modify Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Group request body schema",
        "type": "object",
        "properties": {
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$" },
            "userLimit": { "type": "integer", "minimum": 1, "maximum": 999999 },
            "groupName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineIdName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineIdPhoneNumber" : { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            },
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
            "locationDialingCode": { "type": "string", "minLength": 1, "maxLength": 15, "pattern": "^[0-9]+$" },
            "contact": {
                "type": "object",
                "properties": {
                    "contactName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactNumber": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "contactEmail": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            }
        }
    },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}
{
    "requestURITemplate": {
        "title": "Delete Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/password-rules
{
    "requestURITemplate": {
        "title": "Retrieve Group Password Rules request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "title": "Retrieve Group Password Rules response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "disallowUserId": { "type": "boolean", "required": true },
            "disallowOldPassword": { "type": "boolean", "required": true },
            "disallowReversedOldPassword": { "type": "boolean", "required": true },
            "restrictMinDigits": { "type": "boolean", "required": true },
            "minDigits": { "type": "integer", "minimum": 1, "maximum": 10, "required": true },
            "restrictMinUpperCaseLetters": { "type": "boolean", "required": true },
            "minUpperCaseLetters": { "type": "integer", "minimum": 1, "maximum": 10, "required": true },
            "restrictMinLowerCaseLetters": { "type": "boolean", "required": true },
            "minLowerCaseLetters": { "type": "integer", "minimum": 1, "maximum": 10, "required": true },
            "restrictMinNonAlphanumericCharacters": { "type": "boolean", "required": true },
            "minNonAlphanumericCharacters": { "type": "integer", "minimum": 1, "maximum": 10, "required": true },
            "minLength": { "type": "integer", "minimum": 3, "maximum": 40, "required": true },
            "maxFailedLoginAttempts": { "type": "integer", "minimum": 0, "maximum": 10, "required": true },
            "passwordExpiresDays": { "type": "integer", "minimum": 1, "maximum": 199, "required": true },
            "sendLoginDisabledNotifyEmail": { "type": "boolean", "required": true },
            "disallowRulesModification": { "type": "boolean", "required": true },
            "disallowPreviousPasswords": { "type": "boolean", "required": true },
            "numberOfPreviousPasswords": { "type": "integer", "minimum": 1, "maximum": 10, "required": true }
        }
    }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
{
    "requestURITemplate": {
        "title": "Retrieve Group Extension Length request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "title": "Retrieve Group Extension Length response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "minExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20, "required": true },
            "maxExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20, "required": true },
            "defaultExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20, "required": true }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
{
    "requestURITemplate": {
        "title": "Modify Group Extension Length request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Group Extension Length request body schema",
        "type": "object",
        "properties": {
            "minExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20 },
            "maxExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20 },
            "defaultExtensionLength": { "type": "integer", "minimum": 2, "maximum": 20 }
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains
{
    "requestURITemplate": {
        "title": "Retrieve Group Domains request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "title": "Retrieve Group Domains response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupDefaultDomain": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 80, 
                "pattern": "^[a-zA-Z0-9.-]+$", 
                "required": true 
            },
            "domains": {
				"type": "array",
				"required": true,
				"items": {
    				"type": "string", 
                    "minLength": 1, 
                    "maxLength": 80, 
                    "pattern": "^[a-zA-Z0-9.-]+$"
				}
			}
        }
    }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains
{
    "requestURITemplate": {
        "title": "Assign Group Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Assign Group Domain request body schema",
        "type": "object",
        "properties": {
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/domains/{+domain}
{
    "requestURITemplate": {
        "title": "Unassign Group Domain request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/feature-access-codes
{
    "requestURITemplate": {
        "title": "Get group-level Feature Access Codes settings request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Get group-level Feature Access Codes settings response body schema",
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
            "useFeatureAccessCodeLevel": { "enum": [ "Service Provider", "Group" ], "required": true },
            "featureAccessCode": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "featureAccessCodeName": { "type": "string", "minLength": 1, "maxLength": 80, "required": true },
                        "mainCode": { "type": "string", "minLength": 1, "maxLength": 5, "required": true, "pattern": "^[A-D0-9\\#\\*]+$" },
                        "alternateCode": { "type": "string", "minLength": 1, "maxLength": 5, "pattern": "^[A-D0-9\\#\\*]+$" }
                    }
                }
            }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/feature-access-codes
{
    "requestURITemplate": {
        "title": "Update group-level Feature Access Codes settings request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Update group-level Feature Access Codes settings request body schema",
        "type": "object",
        "properties": {
            "useFeatureAccessCodeLevel": { "enum": [ "Service Provider", "Group" ] },
            "featureAccessCode": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "featureAccessCodeName": { "type": "string", "minLength": 1, "maxLength": 80, "required": true },
                        "mainCode": { "type": "string", "minLength": 1, "maxLength": 5, "required": true, "pattern": "^[A-D0-9\\#\\*]+$" },
                        "alternateCode": { "type": "string", "minLength": 1, "maxLength": 5, "pattern": "^[A-D0-9\\#\\*]+$" }
                    }
                }
            }
        }
    },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers
{
    "requestURITemplate": {
        "title": "Assign Group Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Assign Group Phone Number request body schema",
        "type": "object",
        "properties": {
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$"
            }
        }
    },
    "response": { }
}

HEAD /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
{
    "requestURITemplate": {
        "title": "Check Group Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$",
                "required": true
            }
        }
    },
    "requestBody": { },
    "response": { }
}

DELETE /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/{+phoneNumber}
{
    "requestURITemplate": {
        "title": "Delete Group Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "phoneNumber": { 
                "type": "string", 
                "minLength": 1, 
                "maxLength": 23, 
                "pattern": "^\\+\\d+-\\d+$",
                "required": true
            }
        }
    },
    "requestBody": { },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/activate
{
    "requestURITemplate": {
        "title": "Activate Group Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Activate Group Phone Number request body schema",
        "type": "object",
        "properties": {
            "phoneNumber": {
                "type": "array",
				"items": {
					"type": "string", 
                    "minLength": 1, 
                    "maxLength": 23, 
                    "pattern": "^\\+\\d+-\\d+$"
				}
			},
            "dnRange": {
                "type": "array",
				"items": {
					"type": "object",
					"properties": {
					    "minPhoneNumber": {
        					"type": "string", 
                            "minLength": 1, 
                            "maxLength": 23, 
                            "pattern": "^\\+\\d+-\\d+$"
        				},
                        "maxPhoneNumber": {
        					"type": "string", 
                            "minLength": 1, 
                            "maxLength": 23, 
                            "pattern": "^\\+\\d+-\\d+$"
        				}
					}
				}
			}
        }
    },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/phone-numbers/deactivate
{
    "requestURITemplate": {
        "title": "Deactivate Group Phone Number request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Deactivate Group Phone Number request body schema",
        "type": "object",
        "properties": {
            "phoneNumber": {
                "type": "array",
				"items": {
					"type": "string", 
                    "minLength": 1, 
                    "maxLength": 23, 
                    "pattern": "^\\+\\d+-\\d+$"
				}
			},
            "dnRange": {
                "type": "array",
				"items": {
					"type": "object",
					"properties": {
					    "minPhoneNumber": {
        					"type": "string", 
                            "minLength": 1, 
                            "maxLength": 23, 
                            "pattern": "^\\+\\d+-\\d+$"
        				},
                        "maxPhoneNumber": {
        					"type": "string", 
                            "minLength": 1, 
                            "maxLength": 23, 
                            "pattern": "^\\+\\d+-\\d+$"
        				}
					}
				}
			}
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services
{
    "requestURITemplate": {
        "title": "Retrieve Group Services Authorizations request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve Group Services Authorizations response body schema",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"servicePacksAuthorizationTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Service Pack Name": { "type": "string", "minLength": 1, "required": true },
                            "Authorized": { "type": "boolean", "required": true },
                            "Assigned": { "type": "boolean", "required": true },
                            "Limited": { "enum": ["Unlimited", "Limited"], "required": true },
                            "Allocated": { "type": ["string", "integer", "null"], "required": true },
                            "Allowed": { "type": ["string", "integer"], "required": true },
                            "Usage": { "type": "integer" },
                            "Description": { "type": ["string", "null"], "required": true }
				        }
					}
				}
            },
            "groupServicesAuthorizationTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Service Name": { "type": "string", "minLength": 1, "required": true },
                            "Authorized": { "type": "boolean", "required": true },
                            "Assigned": { "type": "boolean", "required": true },
                            "Limited": { "enum": ["Unlimited", "Limited", "none"], "required": true },
                            "Quantity": { "type": ["null", "integer"], "required": true },
                            "Usage": { "type": ["string", "integer"], "required": true },
                            "Licensed": { "type": "boolean", "required": true },
                            "Allowed": { "type": ["string", "integer"], "required": true }
				        }
					}
				}
            },
            "userServicesAuthorizationTable": {
                "type": "object",
				"required": true,
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Service Name": { "type": "string", "minLength": 1, "required": true },
                            "Authorized": { "type": "boolean", "required": true },
                            "Assigned": { "type": "boolean", "required": true },
                            "Limited": { "enum": ["Unlimited", "Limited"], "required": true },
                            "Quantity": { "type": ["null", "integer"], "required": true },
                            "Usage": { "type": ["string", "integer"], "required": true },
                            "Licensed": { "type": "boolean", "required": true },
                            "Allowed": { "type": ["string", "integer"], "required": true },
                            "User Assignable" : { "type": "boolean", "required": true },
                            "Group Service Assignable": { "type": "boolean", "required": true }
				        }
					}
				}
            }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services
{
    "requestURITemplate": {
        "title": "Modify Group Services Authorizations request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Group Services Authorizations request body schema",
        "properties": {
            "servicePacksAuthorizationTable": {
                "type": "object",
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Authorized": { "type": "boolean" },
                            "Limited": { "enum": ["Unlimited", "Limited"] },
                            "Allocated": { "type": "integer" }
				        }
					}
				}
            },
            "groupServicesAuthorizationTable": {
                "type": "object",
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Authorized": { "type": "boolean" },
                            "Limited": { "enum": ["Unlimited", "Limited"] },
                            "Quantity": { "type": "integer" }
				        }
					}
				}
            },
            "userServicesAuthorizationTable": {
                "type": "object",
				"patternProperties": {
					"^.+$": {
						"type": "object",
				        "properties": {
			                "Authorized": { "type": "boolean" },
                            "Limited": { "enum": ["Unlimited", "Limited"] },
                            "Quantity": { "type": "integer" }
				        }
					}
				}
            }
        }
    },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/assignServices
{
    "requestURITemplate": {
        "title": "Assign Services to Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Assign Services to Group request body schema",
        "type": "object",
        "properties": {
            "serviceName": {
                "type": "array",
                "minItems": 1,
                "required": true,
                "items": { "type": "string", "minLength": 1, "maxLength": 80 }
            }
        }
    },
    "response": { }
}

POST /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/unassignServices
{
    "requestURITemplate": {
        "title": "Unassign Services from Group request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Unassign Services from Group request body schema",
        "type": "object",
        "properties": {
            "serviceName": {
                "type": "array",
                "minItems": 1,
                "required": true,
                "items": { "type": "string", "minLength": 1, "maxLength": 80 }
            }
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
{
    "requestURITemplate": {
        "title": "Retrieve Group 3PVM service request request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"isActive": { "type": "boolean" },
			"groupServer": { "type": "string" },
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			}
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
{
    "requestURITemplate": {
        "title": "Modify Group 3PVM service settings request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Group 3PVM service settings request body schema",
        "type": "object",
        "properties": {
            "isActive": { "type": "boolean" },
            "groupServer": { "id": "OutgoingDNorSIPURI", "anyOf": [
                {
                    "id": "E.164 DN",
                    "type": ["string", "null"],
                    "description": "A formatted TN.",
                    "pattern": "^\\+\\d+-\\d+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "non-E.164 DN",
                    "type": "string",
                    "description": "A non-E.164 formatted TN.",
                    "pattern": "^[\\d\\-]+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "SIP URI",
                    "type": "string",
                    "description": "SIP URI",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161,
                    "required": false
                }
            ]}
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
{
    "requestURITemplate": {
        "title": "Retrieve Group Voice Portal service request request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceUserId": { "type": "string" },
            "serviceInstanceProfile": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineIdLastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineIdFirstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "hiraganaLastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "hiraganaFirstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" },
                    "extension": { "type": "string", "minLength": 1, "maxLength": 20, "pattern": "^[\\d\\-]+$" },
                    "countryCode": { "type": "string" },
                    "nationalPrefix": { "type": "string" },
                    "department": {
                        "type": "object",
                        "properties": {
                            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                        }
                    },
                    "language": { "type": "string", "minLength": 1, "maxLength": 40 },
                    "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "alias": { "type": [ "string", "array" ] },
                    "publicUserIdentity": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" },
                    "callingLineIdPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" }
                }
            },
            "isActive": { "type": "boolean" },
            "enableExtendedScope": { "type": "boolean" },
            "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": { "type": "boolean" },
            "useVoicePortalWizard": { "type": "boolean" },
            "voicePortalExternalRoutingScope": { "enum": [ "Group", "System" ] },
            "useExternalRouting": { "type": "boolean" },
            "externalRoutingAddress": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" },
            "homeZoneName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "networkClassOfService": { "type": "string", "minLength": 1, "maxLength": 40 }
        }
    }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
{
    "requestURITemplate": {
        "title": "Modify Group Voice Portal service settings request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Group Voice Portal service settings request body schema",
        "type": "object",
        "properties": {
            "serviceInstanceProfile": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineIdLastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineIdFirstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "hiraganaLastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "hiraganaFirstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" },
                    "extension": { "type": "string", "minLength": 1, "maxLength": 20, "pattern": "^[\\d\\-]+$" },
                    "password": { "type": "string" },
                    "department": {
                        "type": "object",
                        "properties": {
                            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                        }
                    },
                    "language": { "type": "string", "minLength": 1, "maxLength": 40 },
                    "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "sipAliasList": {
                        "type": "object",
                        "properties": {
                            "sipAlias": { "type": [ "string", "array" ] }
                        }
                    },
                    "publicUserIdentity": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" },
                    "callingLineIdPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" }
                }
            },
            "isActive": { "type": "boolean" },
            "enableExtendedScope": { "type": "boolean" },
            "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": { "type": "boolean" },
            "useVoicePortalWizard": { "type": "boolean" },
            "voicePortalExternalRoutingScope": { "enum": [ "Group", "System" ] },
            "useExternalRouting": { "type": "boolean" },
            "externalRoutingAddress": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" },
            "homeZoneName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "networkClassOfService": { "type": "string", "minLength": 1, "maxLength": 40 }
        }
    },
    "response": { }
}

GET /loki-services/broadworks/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve Service Provider request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "BroadWorks Entity - Retrieve Service Provider response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"isEnterprise": { "type": "boolean", "required": true },
			"useCustomRoutingProfile": { "type": "boolean" },
			"defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$", "required": true },
			"name": { "type": "string", "minLength": 1,	"maxLength": 80 },
			"supportEmail": { "type": "string", "minLength": 1,	"maxLength": 80, "format": "email" },
			"contact": {
			    "type": "object",
				"properties": {
					"name": { "type": "string", "minLength": 1, "maxLength": 30 },
					"number": { "type": "string", "minLength": 1, "maxLength": 30 },
					"email": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
				}
			},
			"address": {
				"type": "object",
				"properties": {
					"addressLine1": { "type": "string", "minLength": 1,	"maxLength": 80	},
					"addressLine2": { "type": "string",	"minLength": 1,	"maxLength": 80 },
					"city": { "type": "string",	"minLength": 1,	"maxLength": 50	},
					"stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
					"stateOrProvinceDisplayName": {	"type": "string", "minLength": 1, "maxLength": 50 },
					"zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
					"country": { "type": "string", "minLength": 1, "maxLength": 50 }
				}
			},
			"useServiceProviderLanguages": { "type": "boolean",	"description": "required for Service Providers"	}
		}
    }
}

POST /loki-services/broadworks/service-providers{?mode}
{
    "requestURIQuery": {
        "title": "BroadWorks Entity - Create Service Provider/Enterprise request URI query parameters schema",
        "properties": {
            "mode": { "enum": [ "create-only" ], "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Create Service Provider/Enterprise request body",
		"type": "object",
		"properties": {
		    "hostingNe": {
		        "type": "string",
		        "minLength": 1,
		        "maxLength": 40,
		        "description": "Specifies BroadWorks cluster where new entity should be created. If included, must match to one of the configured hostingNe values in config.xml. If omitted, default cluster will be used."
	        },
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"name": { "type": "string", "minLength": 1,	"maxLength": 80 },
			"isEnterprise": { "type": "boolean", "required": true },
			"useCustomRoutingProfile": { "type": "boolean", "description": "Required when isEnterprise is false. Will be ignored when isEnterprise is true" },
			"defaultDomain": {
			    "type": "string",
			    "minLength": 1,
			    "maxLength": 80,
			    "pattern": "^[a-zA-Z0-9.-]+$",
			    "description": "Domain will be added to BroadWorks automatically. If not specified, default system domain will be used as default service provider/enterprise domain."
		    },
			"supportEmail": { "type": "string", "minLength": 1,	"maxLength": 80, "format": "email" },
			"contact": {
			    "type": "object",
				"properties": {
					"name": { "type": "string", "minLength": 1, "maxLength": 30 },
					"number": { "type": "string", "minLength": 1, "maxLength": 30 },
					"email": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
				}
			},
			"address": {
				"type": "object",
				"properties": {
					"addressLine1": { "type": "string", "minLength": 1,	"maxLength": 80	},
					"addressLine2": { "type": "string",	"minLength": 1,	"maxLength": 80 },
					"city": { "type": "string",	"minLength": 1,	"maxLength": 50	},
					"stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
					"zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
					"country": { "type": "string", "minLength": 1, "maxLength": 50 }
				}
			}
		}
    },
    "response": {
        "title": "BroadWorks Entity - Create Service Provider/Enterprise response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"defaultDomain": {
			    "type": "string",
			    "minLength": 1,
			    "maxLength": 80,
			    "pattern": "^[a-zA-Z0-9.-]+$",
			    "description": "Present only if it was not included in the request body (was assigned automatically from the System default domain)."
		    },
			"hostingNe": {
		        "type": "string",
		        "minLength": 1,
		        "maxLength": 40,
		        "description": "Present only if it was not included in the request body (default cluster was used)."
	        }
		}
    }
}

PUT /loki-services/broadworks/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Service Provider/Enterprise request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Modify Service Provider/Enterprise request body",
		"type": "object",
		"properties": {
		    "name": { "type": "string", "minLength": 1,	"maxLength": 80 },
			"defaultDomain": {
			    "type": "string",
			    "minLength": 1,
			    "maxLength": 80,
			    "pattern": "^[a-zA-Z0-9.-]+$"
		    },
			"supportEmail": { "type": "string", "minLength": 1,	"maxLength": 80, "format": "email" },
			"contact": {
			    "type": "object",
				"properties": {
					"name": { "type": "string", "minLength": 1, "maxLength": 30 },
					"number": { "type": "string", "minLength": 1, "maxLength": 30 },
					"email": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
				}
			},
			"address": {
				"type": "object",
				"properties": {
					"addressLine1": { "type": "string", "minLength": 1,	"maxLength": 80	},
					"addressLine2": { "type": "string",	"minLength": 1,	"maxLength": 80 },
					"city": { "type": "string",	"minLength": 1,	"maxLength": 50	},
					"stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
					"zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
					"country": { "type": "string", "minLength": 1, "maxLength": 50 }
				}
			},
			"useServiceProviderLanguages": { "type": "boolean" }
		}
    },
    "response": { }
}

DELETE /loki-services/broadworks/service-providers/{+serviceProviderId}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Delete Service Provider/Enterprise request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

POST /loki-services/broadworks/service-providers/{+serviceProviderId}/assignDomain
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Assign Domain to Service Provider request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Assign Domain to Service Provider request body parameters schema",
        "properties": {
            "domain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$" },
            "autoAssignSystemDomain": { "type": "boolean" },
            "autoAssignServiceProviderDomain": { "type": "boolean" }
        }
    },
    "response": {
        "title": "BroadWorks Entity - Assign Domain to Service Provider response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			}
		}
    }
}

POST /loki-services/broadworks/service-providers/{+serviceProviderId}/groups{?mode}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Create Group request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestURIQuery": {
        "title": "BroadWorks Entity - Create Group request URI query parameters schema",
        "properties": {
            "mode": { "enum": [ "create-only" ], "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Create Group request body schema",
        "type": "object",
        "properties": {
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$" },
            "userLimit": { "type": "integer", "minimum": 1, "maximum": 999999, "required": true },
            "name": { "type": "string", "minLength": 1, "maxLength": 80 },
            "callingLineId": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 80 }
                }
            },
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
            "locationDialingCode": { "type": "string", "minLength": 1, "maxLength": 15, "pattern": "^[0-9]+$" },
            "contact": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "number": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "email": { "type": "string", "minLength": 1, "maxLength": 80, "format": "email" }
                }
            },
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "addressLine2": { "type": "string", "minLength": 1, "maxLength": 80 },
                    "city": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "stateOrProvince": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "zipOrPostalCode": { "type": "string", "minLength": 1, "maxLength": 50 },
                    "country": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            }
        }
    },
    "response": {
        "title": "BroadWorks Entity - Create Group response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "defaultDomain": { "type": "string", "minLength": 1, "maxLength": 80, "pattern": "^[a-zA-Z0-9.-]+$" },
            "callingLineId": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 80 }
                }
            }
		}
    }
}

GET /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve Group Extension Length request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "BroadWorks Entity - Retrieve Group Extension Length response body schema",
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "min": { "type": "integer", "minimum": 2, "maximum": 20, "required": true },
            "max": { "type": "integer", "minimum": 2, "maximum": 20, "required": true },
            "default": { "type": "integer", "minimum": 2, "maximum": 20, "required": true }
        }
    }
}

PUT /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/extension-length
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Group Extension Length request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Modify Group Extension Length request body schema",
        "type": "object",
        "properties": {
            "min": { "type": "integer", "minimum": 2, "maximum": 20 },
            "max": { "type": "integer", "minimum": 2, "maximum": 20 },
            "default": { "type": "integer", "minimum": 2, "maximum": 20 }
        }
    },
    "response": { }
}

GET /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve Group 3PVM service request request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"isActive": { "type": "boolean" },
			"groupServer": { "id": "OutgoingDNorSIPURI", "anyOf": [
                {
                    "id": "E.164 DN",
                    "type": ["string", "null"],
                    "description": "A formatted TN.",
                    "pattern": "^\\+\\d+-\\d+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "non-E.164 DN",
                    "type": "string",
                    "description": "A non-E.164 formatted TN.",
                    "pattern": "^[\\d\\-]+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "SIP URI",
                    "type": "string",
                    "description": "SIP URI",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161,
                    "required": false
                }
            ]},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			}
        }
    }
}

PUT /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Third-Party%20Voice%20Mail%20Support
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Group 3PVM service settings request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Modify Group 3PVM service settings request body schema",
        "type": "object",
        "properties": {
            "isActive": { "type": "boolean" },
            "groupServer": { "id": "OutgoingDNorSIPURI", "anyOf": [
                {
                    "id": "E.164 DN",
                    "type": ["string", "null"],
                    "description": "A formatted TN.",
                    "pattern": "^\\+\\d+-\\d+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "non-E.164 DN",
                    "type": "string",
                    "description": "A non-E.164 formatted TN.",
                    "pattern": "^[\\d\\-]+$",
                    "minLength": 1,
                    "maxLength": 23,
                    "required": false
                },
                {
                    "id": "SIP URI",
                    "type": "string",
                    "description": "SIP URI",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161,
                    "required": false
                }
            ]}
        }
    },
    "response": { }
}

GET /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve Group Voice Portal service request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "BroadWorks Entity - Retrieve Group Voice Portal service response body schema",
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceUserId": { "type": "string" },
            "profile": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineId": {
                        "type": "object",
                        "properties": {
                            "lastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "firstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" }
                        }
                    },
                    "hiragana": {
                        "type": "object",
                        "properties": {
                            "lastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "firstName": { "type": "string", "minLength": 1, "maxLength": 30 }
                        }
                    },
                    "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" },
                    "extension": { "type": "string", "minLength": 1, "maxLength": 20, "pattern": "^[\\d\\-]+$" },
                    "countryCode": { "type": "string" },
                    "nationalPrefix": { "type": "string" },
                    "department": {
                        "type": "object",
                        "properties": {
                            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                        }
                    },
                    "language": { "type": "string", "minLength": 1, "maxLength": 40 },
                    "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "alias": { "type": [ "string", "array" ] },
                    "publicUserIdentity": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" }
                }
            },
            "isActive": { "type": "boolean" },
            "enableExtendedScope": { "type": "boolean" },
            "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": { "type": "boolean" },
            "useVoicePortalWizard": { "type": "boolean" },
            "externalRouting": {
                "type": "object",
                "properties": {
                    "scope": { "enum": [ "Group", "System" ] },
                    "useExternal": { "type": "boolean" },
                    "address": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" }
                }
            },
            "homeZoneName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "networkClassOfService": { "type": "string", "minLength": 1, "maxLength": 40 }
        }
    }
}

PUT /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Voice%20Portal
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Group Voice Portal service settings request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Modify Group Voice Portal service settings request body schema",
        "type": "object",
        "properties": {
            "profile": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "callingLineId": {
                        "type": "object",
                        "properties": {
                            "lastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "firstName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" }
                        }
                    },
                    "hiragana": {
                        "type": "object",
                        "properties": {
                            "lastName": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "firstName": { "type": "string", "minLength": 1, "maxLength": 30 }
                        }
                    },
                    "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23, "pattern": "^[\\d\\-]+$" },
                    "extension": { "type": "string", "minLength": 1, "maxLength": 20, "pattern": "^[\\d\\-]+$" },
                    "password": { "type": "string" },
                    "department": {
                        "type": "object",
                        "properties": {
                            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                            "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                        }
                    },
                    "language": { "type": "string", "minLength": 1, "maxLength": 40 },
                    "timeZone": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127 },
                    "alias": { "type": [ "string", "array" ] },
                    "publicUserIdentity": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" }
                }
            },
            "isActive": { "type": "boolean" },
            "enableExtendedScope": { "type": "boolean" },
            "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": { "type": "boolean" },
            "useVoicePortalWizard": { "type": "boolean" },
            "externalRouting": {
                "type": "object",
                "properties": {
                    "scope": { "enum": [ "Group", "System" ] },
                    "useExternal": { "type": "boolean" },
                    "address": { "type": "string", "minLength": 1, "maxLength": 161, "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$" }
                }
            },
            "homeZoneName": { "type": "string", "minLength": 1, "maxLength": 80 },
            "networkClassOfService": { "type": "string", "minLength": 1, "maxLength": 40 }
        }
    },
    "response": { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Speed%20Dial%20100
{
    "requestURITemplate": {
        "title": "Retrieve Group Speed Dial 100 service request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "Retrieve Group Speed Dial 100 service response body schema",
        "type": "object",
        "properties": {
            "_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"prefix": { "type": "string", "minLength": 1, "maxLength": 2, "pattern": "^[A-D0-9\\*\\#]+$" }
        }
    }
}


PUT /loki-services/network-elements/broadworks/{+ne_id}/service-providers/{+serviceProviderId}/groups/{+groupId}/services/Speed%20Dial%20100
{
    "requestURITemplate": {
        "title": "Modify Speed Dial 100 service settings request URI template parameters schema",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "Modify Speed Dial 100 service settings request body schema",
        "type": "object",
        "properties": {
            "prefix": { "type": "string", "minLength": 1, "maxLength": 2, "pattern": "^[A-D0-9\\*\\#]+$" }
        }
    },
    "response": { }
}

POST /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/applyTemplate
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Apply Group Template request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Apply Group Template request body schema",
        "type": "object",
        "properties": {
            "templateGroupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "response": { }
}

PUT /loki-services/network-elements/broadworks/{+ne_id}/users/{+userId}/call-processing-policy
{
    "request" :
        {
            "type": "object",
            "title": "User Call Processing Policy Modify request body schema",
            "properties": {
                "callingLineId": {
                    "type": "object",
                    "properties": {
                        "useUserCLIDSetting": {
                            "type": "boolean"
                        },
                        "clidPolicy": {
                            "type": "string"
                        },
                        "emergencyClidPolicy": {
                            "type": "string"
                        },
                        "allowAlternateNumbersForRedirectingIdentity": {
                            "type": "boolean"
                        },
                        "useGroupName": {
                            "type": "boolean"
                        },
                        "allowConfigurableCLIDForRedirectingIdentity": {
                            "type": "boolean"
                        },
                        "blockCallingNameForExternalCalls": {
                            "type": "boolean"
                        }
                    }
                },
                "media": {
                    "type": "object",
                    "properties": {
                        "useUserMediaSetting": {
                            "type": "boolean"
                        },
                        "mediaPolicySelection": {
                            "type": "string"
                        },
                        "supportedMediaSetName": {
                            "type": "string"
                        }
                    }
                },
                "callLimits": {
                    "type": "object",
                    "properties": {
                        "useUserCallLimitsSetting": {
                            "type": "boolean"
                        },
                        "useMaxSimultaneousCalls": {
                            "type": "boolean"
                        },
                        "maxSimultaneousCalls": {
                            "type": "integer"
                        },
                        "useMaxSimultaneousVideoCalls": {
                            "type": "boolean"
                        },
                        "maxSimultaneousVideoCalls": {
                            "type": "integer"
                        },
                        "useMaxCallTimeForAnsweredCalls": {
                            "type": "boolean"
                        },
                        "maxCallTimeForAnsweredCallsMinutes": {
                            "type": "integer"
                        },
                        "useMaxCallTimeForUnansweredCalls": {
                            "type": "boolean"
                        },
                        "maxCallTimeForUnansweredCallsMinutes": {
                            "type": "integer"
                        },
                        "useMaxConcurrentRedirectedCalls": {
                            "type": "boolean"
                        },
                        "maxConcurrentRedirectedCalls": {
                            "type": "integer"
                        },
                        "useMaxFindMeFollowMeDepth": {
                            "type": "boolean"
                        },
                        "maxFindMeFollowMeDepth": {
                            "type": "integer"
                        },
                        "maxRedirectionDepth": {
                            "type": "integer"
                        },
                        "useMaxConcurrentFindMeFollowMeInvocations": {
                            "type": "boolean"
                        },
                        "maxConcurrentFindMeFollowMeInvocations": {
                            "type": "integer"
                        }
                    }
                },
                "incomingCallerId": {
                    "type": "object",
                    "properties": {
                        "useUserDCLIDSetting": {
                            "type": "boolean"
                        },
                        "enableDialableCallerID": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
    "response" : { }
}

GET /loki-services/network-elements/broadworks/{+ne_id}/users/{+userId}
{
    "requestURITemplate": {
        "title": "BroadWorks Utility - Retrieve User request URI template parameters schema",
        "type": "object",
        "properties": {
            "ne_id": { "type": "string", "required": true },
            "userId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
	"response": {
	    "title": "GET User, body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
    		"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "userId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "lastName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "firstName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "callingLineIdLastName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "callingLineIdFirstName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "hiraganaLastName": { "type": "string", "minLength": 1, "maxLength": 30},
            "hiraganaFirstName": { "type": "string", "minLength": 1, "maxLength": 30},
            "phoneNumber": { "type": "string", "minLength": 1, "maxLength": 23 },
            "extension": { "type": "string", "minLength": 2, "maxLength": 6},
            "callingLineIdPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 23},
            "department": {
                "type": "object",
                "properties": {
                    "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            },
            "departmentFullPath": { "type": "string", "minLength": 1},
            "language": { "type": "string", "minLength": 1, "maxLength": 40, "required": true},
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127, "required": true},
            "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127, "required": true},
            "defaultAlias": { "type": "string", "minLength": 1, "maxLength": 161, "required": true },
            "alias": {
                "type": "array",
                "minItems": 0,
                "maxItems": 3,
                "items": { "type": "string", "minLength": 1, "maxLength": 161},
                "required": true
            },
            "title": { "type": "string", "minLength": 1, "maxLength": 50},
            "pagerPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 30},
            "mobilePhoneNumber": { "type": "string", "minLength": 1, "maxLength": 30},
            "emailAddress": { "type": "string", "minLength": 1, "maxLength": 80},
            "yahooId": { "type": "string", "minLength": 1, "maxLength": 50},
            "addressLocation": { "type": "string", "minLength": 1, "maxLength": 80},
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": ["string", "null"], "minLength": 1, "maxLength": 80},
                    "addressLine2": { "type": ["string", "null"], "minLength": 1, "maxLength": 80},
                    "city": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "stateOrProvince": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "stateOrProvinceDisplayName": { "type": "string", "minLength": 1, "maxLength": 50},
                    "zipOrPostalCode": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "country": { "type": ["string", "null"], "minLength": 1, "maxLength": 50}
                }
            },
            "countryCode": { "type": "string", "maxLength": 3, "pattern": "[ 0-9]|[ 1-9][ 0-9]{ 1, 2}"},
            "nationalPrefix": { "type": "string", "minLength": 1, "maxLength": 2},
        	"ne_id": {
    			"type": "string"
    		},
    		"curies": {
    			"type": "array",
    			"required": true,
    			"items": {
    				"type": "object",
    				"properties": {
    					"name": {
    						"type": "string"
    					},
    					"href": {
    						"type": "string"
    					},
    					"templated": {
    						"type": "boolean"
    					}
    				}
    			}
			}
		}
	}
}

GET /loki-services/broadworks/users/{+userId}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve User request URI template parameters schema",
        "type": "object",
        "properties": {
            "userId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": { },
	"response": {
	    "title": "GET User, body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
    		"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "userId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "lastName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "firstName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "callingLineIdLastName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "callingLineIdFirstName": { "type": "string", "minLength": 1, "maxLength": 30, "required": true},
            "hiraganaLastName": { "type": "string", "minLength": 1, "maxLength": 30},
            "hiraganaFirstName": { "type": "string", "minLength": 1, "maxLength": 30},
            "phoneNumber": {
                "id": "E.164 DN",
                "description": "A formatted TN.",
                "type": ["string"],
                "minLength": 1,
                "maxLength": 23,
                "pattern": "^\\+\\d+-\\d+$"
            },
            "extension": { "type": "string", "minLength": 2, "maxLength": 6},
            "callingLineIdPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 23},
            "department": {
                "type": "object",
                "properties": {
                    "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "groupId": { "type": "string", "minLength": 1, "maxLength": 30 },
                    "name": { "type": "string", "minLength": 1, "maxLength": 50 }
                }
            },
            "departmentFullPath": { "type": "string", "minLength": 1},
            "language": { "type": "string", "minLength": 1, "maxLength": 40, "required": true},
            "timeZone": { "type": "string", "minLength": 1, "maxLength": 127, "required": true},
            "timeZoneDisplayName": { "type": "string", "minLength": 1, "maxLength": 127, "required": true},
            "defaultAlias": { "type": "string", "minLength": 1, "maxLength": 161, "required": true },
            "alias": {
                "type": "array",
                "minItems": 0,
                "maxItems": 3,
                "items": { "type": "string", "minLength": 1, "maxLength": 161},
                "required": true
            },
            "title": { "type": "string", "minLength": 1, "maxLength": 50},
            "pagerPhoneNumber": { "type": "string", "minLength": 1, "maxLength": 30},
            "mobilePhoneNumber": { "type": "string", "minLength": 1, "maxLength": 30},
            "emailAddress": { "type": "string", "minLength": 1, "maxLength": 80},
            "yahooId": { "type": "string", "minLength": 1, "maxLength": 50},
            "addressLocation": { "type": "string", "minLength": 1, "maxLength": 80},
            "address": {
                "type": "object",
                "properties": {
                    "addressLine1": { "type": ["string", "null"], "minLength": 1, "maxLength": 80},
                    "addressLine2": { "type": ["string", "null"], "minLength": 1, "maxLength": 80},
                    "city": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "stateOrProvince": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "stateOrProvinceDisplayName": { "type": "string", "minLength": 1, "maxLength": 50},
                    "zipOrPostalCode": { "type": ["string", "null"], "minLength": 1, "maxLength": 50},
                    "country": { "type": ["string", "null"], "minLength": 1, "maxLength": 50}
                }
            },
            "countryCode": { "type": "string", "maxLength": 3, "pattern": "[ 0-9]|[ 1-9][ 0-9]{ 1, 2}"},
            "nationalPrefix": { "type": "string", "minLength": 1, "maxLength": 2},
        	"ne_id": {
    			"type": "string"
    		},
    		"curies": {
    			"type": "array",
    			"required": true,
    			"items": {
    				"type": "object",
    				"properties": {
    					"name": {
    						"type": "string"
    					},
    					"href": {
    						"type": "string"
    					},
    					"templated": {
    						"type": "boolean"
    					}
    				}
    			}
			}
		}
	}
}

GET /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Retrieve Group Device request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true }
        }
    },
    "requestBody": { },
    "response": {
        "title": "BroadWorks Entity - Retrieve Group Device response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true },
			"deviceType": { "type": "string", "minLength": 1, "maxLength": 40, "required": true },
            "protocol": { "type": "string", "minLength": 1, "maxLength": 20 },
            "netAddress": { "type": "string", "minLength": 1, "maxLength": 40 },
            "port": { "type": "integer", "minimum": 1025, "maximum": 65535 },
            "outboundProxyServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "stunServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "macAddress": { "type": "string", "minLength": 1, "maxLength": 12 },
            "serialNumber": { "type": "string", "minLength": 1,  "maxLength": 80 },
            "description": { "type": "string", "minLength": 1, "maxLength": 80 },
            "ports": {
                "type": "object",
                "required": true,
                "properties": {
                    "unlimited": { "type": "boolean", "required": true },
                    "quantity": { "type": "integer", "minimum": 1 },
                    "assigned": { "type": "integer", "required": true }
                }
            },
            "status": { "enum": ["Online", "Offline", "Unavailable", "Unknown"] },
            "configurationFile": {
                "type": "object",
                "properties": {
                    "mode": { "enum": ["Default", "Manual", "Custom"] },
                    "filename": { "type": "string", "minLength": 1, "maxLength": 256 }
                }
            },
            "physicalLocation": { "type": "string", "minLength": 1, "maxLength": 1024 },
            "transportProtocol": { "enum": ["UDP", "TCP", "Unspecified"] },
            "accessDeviceCredentials": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "enabled": { "type": "boolean" },
                    "username": { "type": "string", "minLength": 1, "maxLength": 161 }
                }
            }
		}
    }
}

POST /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices{?mode}
{
    "requestURIQuery": {
        "title": "BroadWorks Entity - Create Group Device request URI query parameters schema",
        "properties": {
            "mode": { "enum": [ "create-only" ] }
        }
    },
    "requestURITemplate": {
        "title": "BroadWorks Entity - Create Group Device request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Create Group Device request body",
		"type": "object",
		"properties": {
		    "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true },
			"deviceType": { "type": "string", "minLength": 1, "maxLength": 40, "required": true },
            "protocol": { "type": "string", "minLength": 1, "maxLength": 20 },
            "netAddress": { "type": "string", "minLength": 1, "maxLength": 40 },
            "port": { "type": "integer", "minimum": 1025, "maximum": 65535 },
            "outboundProxyServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "stunServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "macAddress": { "type": "string", "minLength": 1, "maxLength": 12 },
            "serialNumber": { "type": "string", "minLength": 1,  "maxLength": 80 },
            "description": { "type": "string", "minLength": 1, "maxLength": 80 },
            "physicalLocation": { "type": "string", "minLength": 1, "maxLength": 1024 },
            "transportProtocol": { "enum": ["UDP", "TCP", "Unspecified"] },
            "mobilityManager": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "provisioningURL": { "type": "string", "minLength": 1, "maxLength": 256 },
                    "provisioningUserName": { "type": "string", "minLength": 1, "maxLength": 15 },
                    "provisioningPassword": { "type": "string", "minLength": 1, "maxLength": 15 },
                    "defaultOriginatingServiceKey": { "type": "integer", "minimum": 1, "maximum": 999 },
                    "defaultTerminatingServiceKey": { "type": "integer", "minimum": 1, "maximum": 999 }
                }
            },
            "accessDeviceCredentials": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "enabled": { "type": "boolean" },
                    "username": { "type": "string", "minLength": 1, "maxLength": 161 },
                    "password": { "type": "string", "minLength": 1, "maxLength": 60 }
                }
            }
		}
    },
    "response": {
        "title": "BroadWorks Entity - Create Group Device response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
			"serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
			"groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true }
		}
    }
}

PUT /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Group Device request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true }
        }
    },
    "requestBody": {
        "title": "BroadWorks Entity - Modify Group Device request body",
		"type": "object",
		"properties": {
		    "protocol": { "type": "string", "minLength": 1, "maxLength": 20 },
            "netAddress": { "type": "string", "minLength": 1, "maxLength": 40 },
            "port": { "type": "integer", "minimum": 1025, "maximum": 65535 },
            "outboundProxyServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "stunServerNetAddress": { "type": "string", "minLength": 1, "maxLength": 80 },
            "macAddress": { "type": "string", "minLength": 1, "maxLength": 12 },
            "serialNumber": { "type": "string", "minLength": 1,  "maxLength": 80 },
            "description": { "type": "string", "minLength": 1, "maxLength": 80 },
            "configurationFile": {
                "type": "object",
                "properties": {
                    "mode": { "enum": ["Default", "Manual", "Custom"] },
                    "filename": { "type": "string", "minLength": 1, "maxLength": 256 },
                    "content": { "type": "string" }
                }
            },
            "physicalLocation": { "type": "string", "minLength": 1, "maxLength": 1024 },
            "transportProtocol": { "enum": ["UDP", "TCP", "Unspecified"] },
            "mobilityManager": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "provisioningURL": { "type": "string", "minLength": 1, "maxLength": 256 },
                    "provisioningUserName": { "type": "string", "minLength": 1, "maxLength": 15 },
                    "provisioningPassword": { "type": "string", "minLength": 1, "maxLength": 15 },
                    "defaultOriginatingServiceKey": { "type": "integer", "minimum": 1, "maximum": 999 },
                    "defaultTerminatingServiceKey": { "type": "integer", "minimum": 1, "maximum": 999 }
                }
            },
            "accessDeviceCredentials": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "enabled": { "type": "boolean" },
                    "username": { "type": "string", "minLength": 1, "maxLength": 161 },
                    "password": { "type": "string", "minLength": 1, "maxLength": 60 }
                }
            }
		}
    },
    "response": { }
}

DELETE /loki-services/broadworks/service-providers/{+serviceProviderId}/groups/{+groupId}/devices/{+deviceName}
{
    "requestURITemplate": {
        "title": "BroadWorks Entity - Modify Group Device request URI template parameters schema",
        "properties": {
            "serviceProviderId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "groupId": { "type": "string", "minLength": 1, "maxLength": 30, "required": true },
            "deviceName": { "type": "string", "minLength": 1, "maxLength": 40, "required": true }
        }
    },
    "requestBody": { },
    "response": { }
}

GET /loki-services/network-elements/broadworks/locations
{
    "requestURIQuery": {
        "title": "BroadWorks Utility: Network Server Location API Interface request URI query parameters schema",
        "properties": {
            "userId": {
				"minLength": 1,
				"maxLength": 161,
				"pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$",
				"required": true
			}
        }
    },
    "requestBody": {    },
    "response": {
        "title": "BroadWorks Utility: Network Server Location API Interface response body",
		"type": "object",
		"properties": {
			"_links": {
				"type": "object",
				"required": true,
				"properties": {
					"self": {
						"type": "object",
						"required": true,
						"properties": {
							"href": {
								"type": "string",
								"required": true
							}
						}
					}
				}
			},
			"curies": {
				"type": "array",
				"required": true,
				"items": {
					"type": "object",
					"properties": {
						"name": { "type": "string", "required": true },
						"href": { "type": "string", "required": true },
						"templated": { "type": "boolean", "required": true }
					}
				}
			},
		    "userId": {
				"type": "string",
				"minLength": 1,
				"maxLength": 161,
				"pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$",
			    "required": true
			},
			"ne_id": {
		        "type": "string",
		        "required": "true",
		        "minLength": 1,
		        "description": "Hosting NE name of the Application Server cluster."
	        }
		}
    }
}